<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="shadow&#39;s blog">
<meta property="og:url" content="http://shadow198.github.io/index.html">
<meta property="og:site_name" content="shadow&#39;s blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="shadow&#39;s blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Shadow'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://shadow198.github.io/"/>





  <title>shadow's blog</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
  
  
<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>
    <a href="https://github.com/shadow198"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">shadow's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow198.github.io/2017/08/07/前端面试题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1494089740209&di=60b506b78e806e9a6471444547c037f7&imgtype=0&src=http%3A%2F%2Fimgtu.5011.net%2Fuploads%2Fcontent%2F20170410%2F1094241491816418.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shadow's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/07/前端面试题/" itemprop="url">前端面试题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-07T22:20:07+08:00">
                2017-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
<p><strong>Table of Contents</strong>  <em>generated with <a href="http://doctoc.herokuapp.com/" target="_blank" rel="external">DocToc</a></em></p>
<ul>
<li><a href="#fe-interview">FE-interview</a><ul>
<li><a href="#$html，-http，web综合问题">$HTML， HTTP，web综合问题</a><ul>
<li><a href="#常见排序算法的时间复杂度空间复杂度">常见排序算法的时间复杂度,空间复杂度</a></li>
<li><a href="#前端需要注意哪些seo">前端需要注意哪些SEO</a></li>
<li><a href="#web开发中会话跟踪的方法有哪些">web开发中会话跟踪的方法有哪些</a></li>
<li><a href="#img的title和alt有什么区别"><code>&lt;img&gt;</code>的<code>title</code>和<code>alt</code>有什么区别</a></li>
<li><a href="#doctype是什么举例常见doctype及特点">doctype是什么,举例常见doctype及特点</a></li>
<li><a href="#html全局属性global-attribute有哪些">HTML全局属性(global attribute)有哪些</a></li>
<li><a href="#什么是web语义化有什么好处">什么是web语义化,有什么好处</a></li>
<li><a href="#http-method">HTTP method</a></li>
<li><a href="#从浏览器地址栏输入url到显示页面的步骤以http为例">从浏览器地址栏输入url到显示页面的步骤(以HTTP为例)</a></li>
<li><a href="#http-request报文结构是怎样的">HTTP request报文结构是怎样的</a></li>
<li><a href="#http-response报文结构是怎样的">HTTP response报文结构是怎样的</a></li>
<li><a href="#如何进行网站性能优化">如何进行网站性能优化</a></li>
<li><a href="#什么是渐进增强">什么是渐进增强</a></li>
<li><a href="#http状态码及其含义">HTTP状态码及其含义</a></li>
</ul>
</li>
<li><a href="#$css部分">$CSS部分</a><ul>
<li><a href="#css选择器有哪些">CSS选择器有哪些</a></li>
<li><a href="#css-sprite是什么有什么优缺点">css sprite是什么,有什么优缺点</a></li>
<li><a href="#display-none与visibility-hidden的区别"><code>display: none;</code>与<code>visibility: hidden;</code>的区别</a></li>
<li><a href="#css-hack原理及常用hack">css hack原理及常用hack</a></li>
<li><a href="#specified-valuecomputed-valueused-value计算方法">specified value,computed value,used value计算方法</a></li>
<li><a href="#link与@import的区别"><code>link</code>与<code>@import</code>的区别</a></li>
<li><a href="#display-block和display-inline的区别"><code>display: block;</code>和<code>display: inline;</code>的区别</a></li>
<li><a href="#pnggifjpg的区别及如何选">PNG,GIF,JPG的区别及如何选</a></li>
<li><a href="#css有哪些继承属性">CSS有哪些继承属性</a></li>
<li><a href="#ie6浏览器有哪些常见的bug缺陷或者与标准不一致的地方如何解决">IE6浏览器有哪些常见的bug,缺陷或者与标准不一致的地方,如何解决</a></li>
<li><a href="#容器包含若干浮动元素时如何清理包含浮动">容器包含若干浮动元素时如何清理(包含)浮动</a></li>
<li><a href="#什么是fouc如何避免">什么是FOUC?如何避免</a></li>
<li><a href="#如何创建块级格式化上下文block-formatting-contextbfc有什么用">如何创建块级格式化上下文(block formatting context),BFC有什么用</a></li>
<li><a href="#displayfloatposition的关系">display,float,position的关系</a></li>
<li><a href="#外边距折叠collapsing-margins">外边距折叠(collapsing margins)</a></li>
<li><a href="#如何确定一个元素的包含块containing-block">如何确定一个元素的包含块(containing block)</a></li>
<li><a href="#stacking-context布局规则">stacking context,布局规则</a></li>
<li><a href="#如何水平居中一个元素">如何水平居中一个元素</a></li>
<li><a href="#如何竖直居中一个元素">如何竖直居中一个元素</a></li>
</ul>
</li>
<li><a href="#$javascript概念部分">$javascript概念部分</a><ul>
<li><a href="#dom元素e的egetattributepropname和epropname有什么区别和联系">DOM元素e的e.getAttribute(propName)和e.propName有什么区别和联系</a></li>
<li><a href="#offsetwidthoffsetheightclientwidthclientheight与scrollwidthscrollheight的区别">offsetWidth/offsetHeight,clientWidth/clientHeight与scrollWidth/scrollHeight的区别</a></li>
<li><a href="#xmlhttprequest通用属性和方法">XMLHttpRequest通用属性和方法</a></li>
<li><a href="#focusblur与focusinfocusout的区别与联系">focus/blur与focusin/focusout的区别与联系</a></li>
<li><a href="#mouseovermouseout与mouseentermouseleave的区别与联系">mouseover/mouseout与mouseenter/mouseleave的区别与联系</a></li>
<li><a href="#sessionstoragelocalstoragecookie区别">sessionStorage,localStorage,cookie区别</a></li>
<li><a href="#javascript跨域通信">javascript跨域通信</a></li>
<li><a href="#javascript有哪几种数据类型">javascript有哪几种数据类型</a></li>
<li><a href="#什么闭包闭包有什么用">什么闭包,闭包有什么用</a></li>
<li><a href="#javascript有哪几种方法定义函数">javascript有哪几种方法定义函数</a></li>
<li><a href="#应用程序存储和离线web应用">应用程序存储和离线web应用</a></li>
<li><a href="#客户端存储localstorage和sessionstorage">客户端存储localStorage和sessionStorage</a></li>
<li><a href="#cookie及其操作">cookie及其操作</a></li>
<li><a href="#javascript有哪些方法定义对象">javascript有哪些方法定义对象</a></li>
<li><a href="#===运算符判断相等的流程是怎样的">===运算符判断相等的流程是怎样的</a></li>
<li><a href="#==运算符判断相等的流程是怎样的">==运算符判断相等的流程是怎样的</a></li>
<li><a href="#对象到字符串的转换步骤">对象到字符串的转换步骤</a></li>
<li><a href="#对象到数字的转换步骤">对象到数字的转换步骤</a></li>
<li><a href="#==的比较规则">&lt;,&gt;,&lt;=,&gt;=的比较规则</a></li>
<li><a href="#运算符工作流程">+运算符工作流程</a></li>
<li><a href="#函数内部arguments变量有哪些特性有哪些属性如何将它转换为数组">函数内部arguments变量有哪些特性,有哪些属性,如何将它转换为数组</a></li>
<li><a href="#dom事件模型是如何的编写一个eventutil工具类实现事件管理兼容">DOM事件模型是如何的,编写一个EventUtil工具类实现事件管理兼容</a></li>
<li><a href="#评价一下三种方法实现继承的优缺点并改进">评价一下三种方法实现继承的优缺点,并改进</a></li>
</ul>
</li>
<li><a href="#$javascript编程部分">$javascript编程部分</a><ul>
<li><a href="#请用原生js实现一个函数给页面制定的任意一个元素添加一个透明遮罩透明度可变默认02使这个区域点击无效要求兼容ie8及各主流浏览器遮罩层效果如下图所示">请用原生js实现一个函数,给页面制定的任意一个元素添加一个透明遮罩(透明度可变,默认0.2),使这个区域点击无效,要求兼容IE8+及各主流浏览器,遮罩层效果如下图所示:</a></li>
<li><a href="#请用代码写出今天是星期x其中x表示当天是星期几如果当天是星期一输出应该是今天是星期一">请用代码写出(今天是星期x)其中x表示当天是星期几,如果当天是星期一,输出应该是”今天是星期一”</a></li>
<li><a href="#下面这段代码想要循环延时输出结果0-1-2-3-4请问输出结果是否正确如果不正确请说明为什么并修改循环内的代码使其输出正确结果">下面这段代码想要循环延时输出结果0 1 2 3 4,请问输出结果是否正确,如果不正确,请说明为什么,并修改循环内的代码使其输出正确结果</a></li>
<li><a href="#现有一个page类其原型对象上有许多以post开头的方法如postmsg另有一拦截函数chekc只返回ture或false请设计一个函数该函数应批量改造原page的postxxx方法在保留其原有功能的同时为每个postxxx方法增加拦截验证功能当chekc返回true时继续执行原postxxx方法返回false时不再执行原postxxx方法">现有一个Page类,其原型对象上有许多以post开头的方法(如postMsg);另有一拦截函数chekc,只返回ture或false.请设计一个函数,该函数应批量改造原Page的postXXX方法,在保留其原有功能的同时,为每个postXXX方法增加拦截验证功能,当chekc返回true时继续执行原postXXX方法,返回false时不再执行原postXXX方法</a></li>
<li><a href="#完成下面的tool-tip">完成下面的tool-tip</a></li>
<li><a href="#编写javascript深度克隆函数deepclone">编写javascript深度克隆函数deepClone</a></li>
<li><a href="#补充代码鼠标单击button1后将button1移动到button2的后面">补充代码,鼠标单击Button1后将Button1移动到Button2的后面</a></li>
<li><a href="#网页中实现一个计算当年还剩多少时间的倒数计时程序要求网页上实时动态显示××年还剩××天××时××分××秒">网页中实现一个计算当年还剩多少时间的倒数计时程序,要求网页上实时动态显示”××年还剩××天××时××分××秒”</a></li>
<li><a href="#完成一个函数接受数组作为参数数组元素为整数或者数组数组元素包含整数或数组函数返回扁平化后的数组">完成一个函数,接受数组作为参数,数组元素为整数或者数组,数组元素包含整数或数组,函数返回扁平化后的数组</a></li>
<li><a href="#如何判断一个对象是否为数组">如何判断一个对象是否为数组</a></li>
<li><a href="#请评价以下事件监听器代码并给出改进意见">请评价以下事件监听器代码并给出改进意见</a></li>
<li><a href="#如何判断一个对象是否为函数">如何判断一个对象是否为函数</a></li>
<li><a href="#编写一个函数接受url中query-string为参数返回解析后的objectquery-string使用applicationx-www-form-urlencoded编码">编写一个函数接受url中query string为参数,返回解析后的Object,query string使用application/x-www-form-urlencoded编码</a></li>
<li><a href="#解析一个完整的url返回object包含域与windowlocation相同">解析一个完整的url,返回Object包含域与window.location相同</a></li>
<li><a href="#完成函数getviewportsize返回指定窗口的视口尺寸">完成函数getViewportSize返回指定窗口的视口尺寸</a></li>
<li><a href="#完成函数getscrolloffset返回窗口滚动条偏移量">完成函数getScrollOffset返回窗口滚动条偏移量</a></li>
<li><a href="#现有一个字符串richtext是一段富文本需要显示在页面上有个要求需要给其中只包含一个img元素的p标签增加一个叫pic的class请编写代码实现可以使用jquery或kissy">现有一个字符串richText,是一段富文本,需要显示在页面上.有个要求,需要给其中只包含一个img元素的p标签增加一个叫pic的class.请编写代码实现.可以使用jQuery或KISSY.</a></li>
<li><a href="#请实现一个event类继承自此类的对象都会拥有两个方法onoffonce和trigger">请实现一个Event类,继承自此类的对象都会拥有两个方法on,off,once和trigger</a></li>
<li><a href="#编写一个函数将列表子元素顺序反转">编写一个函数将列表子元素顺序反转</a></li>
<li><a href="#以下函数的作用是空白区域应该填写什么">以下函数的作用是?空白区域应该填写什么</a></li>
<li><a href="#编写一个函数实现form的序列化即将一个表单中的键值序列化为可提交的字符串">编写一个函数实现form的序列化(即将一个表单中的键值序列化为可提交的字符串)</a></li>
<li><a href="#使用原生javascript给下面列表中的li节点绑定点击事件点击时创建一个object对象兼容ie和标准浏览器">使用原生javascript给下面列表中的li节点绑定点击事件,点击时创建一个Object对象,兼容IE和标准浏览器</a></li>
<li><a href="#有一个大数组var-a-=-1-2-3-a的长度是100内容填充随机整数的字符串请先构造此数组a然后设计一个算法将其内容去重">有一个大数组,var a = [‘1’, ‘2’, ‘3’, …];a的长度是100,内容填充随机整数的字符串.请先构造此数组a,然后设计一个算法将其内容去重</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- END doctoc generated TOC please keep comment here to allow auto update -->
<h1 id="FE-interview"><a href="#FE-interview" class="headerlink" title="FE-interview"></a>FE-interview</h1><p>个人收集的前端知识点、面试题和答案，参考答案仅代表个人观点，方便复习，目录如下，通过文档内搜索目录可快速定位章节</p>
<h2 id="HTML，-HTTP，web综合问题"><a href="#HTML，-HTTP，web综合问题" class="headerlink" title="$HTML， HTTP，web综合问题"></a>$HTML， HTTP，web综合问题</h2><h3 id="常见排序算法的时间复杂度-空间复杂度"><a href="#常见排序算法的时间复杂度-空间复杂度" class="headerlink" title="常见排序算法的时间复杂度,空间复杂度"></a>常见排序算法的时间复杂度,空间复杂度</h3><p><img src="img/sort-compare.png" alt="排序算法比较"></p>
<h3 id="前端需要注意哪些SEO"><a href="#前端需要注意哪些SEO" class="headerlink" title="前端需要注意哪些SEO"></a>前端需要注意哪些SEO</h3><ol>
<li>合理的title、description、keywords：搜索对着三项的权重逐个减小，title值强调重点即可，重要关键词出现不要超过2次，而且要靠前，不同页面title要有所不同；description把页面内容高度概括，长度合适，不可过分堆砌关键词，不同页面description有所不同；keywords列举出重要关键词即可</li>
<li>语义化的HTML代码，符合W3C规范：语义化代码让搜索引擎容易理解网页</li>
<li>重要内容HTML代码放在最前：搜索引擎抓取HTML顺序是从上到下，有的搜索引擎对抓取长度有限制，保证重要内容一定会被抓取</li>
<li>重要内容不要用js输出：爬虫不会执行js获取内容</li>
<li>少用iframe：搜索引擎不会抓取iframe中的内容</li>
<li>非装饰性图片必须加alt</li>
<li>提高网站速度：网站速度是搜索引擎排序的一个重要指标</li>
</ol>
<h3 id="web开发中会话跟踪的方法有哪些"><a href="#web开发中会话跟踪的方法有哪些" class="headerlink" title="web开发中会话跟踪的方法有哪些"></a>web开发中会话跟踪的方法有哪些</h3><ol>
<li>cookie</li>
<li>session</li>
<li>url重写</li>
<li>隐藏input</li>
<li>ip地址</li>
</ol>
<h3 id="lt-img-gt-的title和alt有什么区别"><a href="#lt-img-gt-的title和alt有什么区别" class="headerlink" title="&lt;img&gt;的title和alt有什么区别"></a><code>&lt;img&gt;</code>的<code>title</code>和<code>alt</code>有什么区别</h3><ol>
<li><code>title</code>是<a href="http://www.w3.org/TR/html-markup/global-attributes.html#common.attrs.core" target="_blank" rel="external">global attributes</a>之一，用于为元素提供附加的advisory information。通常当鼠标滑动到元素上的时候显示。</li>
<li><code>alt</code>是<code>&lt;img&gt;</code>的特有属性，是图片内容的等价描述，用于图片无法加载时显示、读屏器阅读图片。可提图片高可访问性，除了纯装饰图片外都必须设置有意义的值，搜索引擎会重点分析。</li>
</ol>
<h3 id="doctype是什么-举例常见doctype及特点"><a href="#doctype是什么-举例常见doctype及特点" class="headerlink" title="doctype是什么,举例常见doctype及特点"></a>doctype是什么,举例常见doctype及特点</h3><ol>
<li><code>&lt;!doctype&gt;</code>声明必须处于HTML文档的头部，在<code>&lt;html&gt;</code>标签之前，HTML5中不区分大小写</li>
<li><code>&lt;!doctype&gt;</code>声明不是一个HTML标签，是一个用于告诉浏览器当前HTMl版本的指令</li>
<li>现代浏览器的html布局引擎通过检查doctype决定使用兼容模式还是标准模式对文档进行渲染，一些浏览器有一个接近标准模型。</li>
<li>在HTML4.01中<code>&lt;!doctype&gt;</code>声明指向一个DTD，由于HTML4.01基于SGML，所以DTD指定了标记规则以保证浏览器正确渲染内容</li>
<li>HTML5不基于SGML，所以不用指定DTD</li>
</ol>
<p>常见dotype：</p>
<ol>
<li><strong>HTML4.01 strict</strong>：不允许使用表现性、废弃元素（如font）以及frameset。声明：<code>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;</code></li>
<li><strong>HTML4.01 Transitional</strong>:允许使用表现性、废弃元素（如font），不允许使用frameset。声明：<code>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</code></li>
<li><strong>HTML4.01 Frameset</strong>:允许表现性元素，废气元素以及frameset。声明：<code>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Frameset//EN&quot; &quot;http://www.w3.org/TR/html4/frameset.dtd&quot;&gt;</code></li>
<li><strong>XHTML1.0 Strict</strong>:不使用允许表现性、废弃元素以及frameset。文档必须是结构良好的XML文档。声明：<code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;</code></li>
<li><strong>XHTML1.0 Transitional</strong>:允许使用表现性、废弃元素，不允许frameset，文档必须是结构良好的XMl文档。声明： <code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</code></li>
<li><strong>XHTML 1.0 Frameset</strong>:允许使用表现性、废弃元素以及frameset，文档必须是结构良好的XML文档。声明：<code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Frameset//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd&quot;&gt;</code></li>
<li><strong>HTML 5</strong>: <code>&lt;!doctype html&gt;</code></li>
</ol>
<h3 id="HTML全局属性-global-attribute-有哪些"><a href="#HTML全局属性-global-attribute-有哪些" class="headerlink" title="HTML全局属性(global attribute)有哪些"></a>HTML全局属性(global attribute)有哪些</h3><p>参考资料：<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes" target="_blank" rel="external">MDN: html global attribute</a>或者<a href="http://www.w3.org/TR/html-markup/global-attributes.html#common.attrs.core" target="_blank" rel="external">W3C HTML global-attributes</a></p>
<ul>
<li><code>accesskey</code>:设置快捷键，提供快速访问元素如<a href="#" accesskey="a">aaa</a>在windows下的firefox中按<code>alt + shift + a</code>可激活元素</li>
<li><code>class</code>:为元素设置类标识，多个类名用空格分开，CSS和javascript可通过class属性获取元素</li>
<li><code>contenteditable</code>: 指定元素内容是否可编辑</li>
<li><code>contextmenu</code>: 自定义鼠标右键弹出菜单内容</li>
<li><code>data-*</code>: 为元素增加自定义属性</li>
<li><code>dir</code>: 设置元素文本方向</li>
<li><code>draggable</code>: 设置元素是否可拖拽</li>
<li><code>dropzone</code>: 设置元素拖放类型： copy, move, link</li>
<li><code>hidden</code>: 表示一个元素是否与文档。样式上会导致元素不显示，但是不能用这个属性实现样式效果</li>
<li><code>id</code>: 元素id，文档内唯一</li>
<li><code>lang</code>: 元素内容的的语言</li>
<li><code>spellcheck</code>: 是否启动拼写和语法检查</li>
<li><code>style</code>: 行内css样式</li>
<li><code>tabindex</code>: 设置元素可以获得焦点，通过tab可以导航</li>
<li><code>title</code>: 元素相关的建议信息</li>
<li><code>translate</code>: 元素和子孙节点内容是否需要本地化</li>
</ul>
<h3 id="什么是web语义化-有什么好处"><a href="#什么是web语义化-有什么好处" class="headerlink" title="什么是web语义化,有什么好处"></a>什么是web语义化,有什么好处</h3><p>web语义化是指通过HTML标记表示页面包含的信息，包含了HTML标签的语义化和css命名的语义化。<br>HTML标签的语义化是指：通过使用包含语义的标签（如h1-h6）恰当地表示文档结构<br>css命名的语义化是指：为html标签添加有意义的class，id补充未表达的语义，如<a href="http://en.wikipedia.org/wiki/Microformats" target="_blank" rel="external">Microformat</a>通过添加符合规则的class描述信息<br>为什么需要语义化：</p>
<ul>
<li>去掉样式后页面呈现清晰的结构</li>
<li>盲人使用读屏器更好地阅读</li>
<li>搜索引擎更好地理解页面，有利于收录</li>
<li>便团队项目的可持续运作及维护</li>
</ul>
<h3 id="HTTP-method"><a href="#HTTP-method" class="headerlink" title="HTTP method"></a>HTTP method</h3><ol>
<li>一台服务器要与HTTP1.1兼容，只要为资源实现<strong>GET</strong>和<strong>HEAD</strong>方法即可</li>
<li><strong>GET</strong>是最常用的方法，通常用于<strong>请求服务器发送某个资源</strong>。</li>
<li><strong>HEAD</strong>与GET类似，但<strong>服务器在响应中值返回首部，不返回实体的主体部分</strong></li>
<li><strong>PUT</strong>让服务器<strong>用请求的主体部分来创建一个由所请求的URL命名的新文档，或者，如果那个URL已经存在的话，就用干这个主体替代它</strong></li>
<li><strong>POST</strong>起初是用来向服务器输入数据的。实际上，通常会用它来支持HTML的表单。表单中填好的数据通常会被送给服务器，然后由服务器将其发送到要去的地方。</li>
<li><strong>TRACE</strong>会在目的服务器端发起一个环回诊断，最后一站的服务器会弹回一个TRACE响应并在响应主体中携带它收到的原始请求报文。TRACE方法主要用于诊断，用于验证请求是否如愿穿过了请求/响应链。</li>
<li><strong>OPTIONS</strong>方法请求web服务器告知其支持的各种功能。可以查询服务器支持哪些方法或者对某些特殊资源支持哪些方法。</li>
<li><strong>DELETE</strong>请求服务器删除请求URL指定的资源</li>
</ol>
<h3 id="从浏览器地址栏输入url到显示页面的步骤-以HTTP为例"><a href="#从浏览器地址栏输入url到显示页面的步骤-以HTTP为例" class="headerlink" title="从浏览器地址栏输入url到显示页面的步骤(以HTTP为例)"></a>从浏览器地址栏输入url到显示页面的步骤(以HTTP为例)</h3><ol>
<li>在浏览器地址栏输入URL</li>
<li>浏览器查看<strong>缓存</strong>，如果请求资源在缓存中并且新鲜，跳转到转码步骤<ol>
<li>如果资源未缓存，发起新请求</li>
<li>如果已缓存，检验是否足够新鲜，足够新鲜直接提供给客户端，否则与服务器进行验证。</li>
<li>检验新鲜通常有两个HTTP头进行控制<code>Expires</code>和<code>Cache-Control</code>：<ul>
<li>HTTP1.0提供Expires，值为一个绝对时间表示缓存新鲜日期</li>
<li>HTTP1.1增加了Cache-Control: max-age=,值为以秒为单位的最大新鲜时间</li>
</ul>
</li>
</ol>
</li>
<li>浏览器<strong>解析URL</strong>获取协议，主机，端口，path</li>
<li>浏览器<strong>组装一个HTTP（GET）请求报文</strong></li>
<li>浏览器<strong>获取主机ip地址</strong>，过程如下：<ol>
<li>浏览器缓存</li>
<li>本机缓存</li>
<li>hosts文件</li>
<li>路由器缓存</li>
<li>ISP DNS缓存</li>
<li>DNS递归查询（可能存在负载均衡导致每次IP不一样）</li>
</ol>
</li>
<li><strong>打开一个socket与目标IP地址，端口建立TCP链接</strong>，三次握手如下：<ol>
<li>客户端发送一个TCP的<strong>SYN=1，Seq=X</strong>的包到服务器端口</li>
<li>服务器发回<strong>SYN=1， ACK=X+1， Seq=Y</strong>的响应包</li>
<li>客户端发送<strong>ACK=Y+1， Seq=Z</strong></li>
</ol>
</li>
<li>TCP链接建立后<strong>发送HTTP请求</strong></li>
<li>服务器接受请求并解析，将请求转发到服务程序，如虚拟主机使用HTTP Host头部判断请求的服务程序</li>
<li>服务器检查<strong>HTTP请求头是否包含缓存验证信息</strong>如果验证缓存新鲜，返回<strong>304</strong>等对应状态码</li>
<li>处理程序读取完整请求并准备HTTP响应，可能需要查询数据库等操作</li>
<li>服务器将<strong>响应报文通过TCP连接发送回浏览器</strong></li>
<li>浏览器接收HTTP响应，然后根据情况选择<strong>关闭TCP连接或者保留重用，关闭TCP连接的四次握手如下</strong>：<ol>
<li>主动方发送<strong>Fin=1， Ack=Z， Seq= X</strong>报文</li>
<li>被动方发送<strong>ACK=X+1， Seq=Z</strong>报文</li>
<li>被动方发送<strong>Fin=1， ACK=X， Seq=Y</strong>报文</li>
<li>主动方发送<strong>ACK=Y， Seq=X</strong>报文</li>
</ol>
</li>
<li>浏览器检查响应状态吗：是否为1XX，3XX， 4XX， 5XX，这些情况处理与2XX不同</li>
<li>如果资源可缓存，<strong>进行缓存</strong></li>
<li>对响应进行<strong>解码</strong>（例如gzip压缩）</li>
<li>根据资源类型决定如何处理（假设资源为HTML文档）</li>
<li><strong>解析HTML文档，构件DOM树，下载资源，构造CSSOM树，执行js脚本</strong>，这些操作没有严格的先后顺序，以下分别解释</li>
<li><strong>构建DOM树</strong>：<ol>
<li><strong>Tokenizing</strong>：根据HTML规范将字符流解析为标记</li>
<li><strong>Lexing</strong>：词法分析将标记转换为对象并定义属性和规则</li>
<li><strong>DOM construction</strong>：根据HTML标记关系将对象组成DOM树</li>
</ol>
</li>
<li>解析过程中遇到图片、样式表、js文件，<strong>启动下载</strong></li>
<li>构建<strong>CSSOM树</strong>：<ol>
<li><strong>Tokenizing</strong>：字符流转换为标记流</li>
<li><strong>Node</strong>：根据标记创建节点</li>
<li><strong>CSSOM</strong>：节点创建CSSOM树</li>
</ol>
</li>
<li><strong><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction" target="_blank" rel="external">根据DOM树和CSSOM树构建渲染树</a></strong>:<ol>
<li>从DOM树的根节点遍历所有<strong>可见节点</strong>，不可见节点包括：1）<code>script</code>,<code>meta</code>这样本身不可见的标签。2)被css隐藏的节点，如<code>display: none</code></li>
<li>对每一个可见节点，找到恰当的CSSOM规则并应用</li>
<li>发布可视节点的内容和计算样式</li>
</ol>
</li>
<li><strong>js解析如下</strong>：<ol>
<li>浏览器创建Document对象并解析HTML，将解析到的元素和文本节点添加到文档中，此时<strong>document.readystate为loading</strong></li>
<li>HTML解析器遇到<strong>没有async和defer的script时</strong>，将他们添加到文档中，然后执行行内或外部脚本。这些脚本会同步执行，并且在脚本下载和执行时解析器会暂停。这样就可以用document.write()把文本插入到输入流中。<strong>同步脚本经常简单定义函数和注册事件处理程序，他们可以遍历和操作script和他们之前的文档内容</strong></li>
<li>当解析器遇到设置了<strong>async</strong>属性的script时，开始下载脚本并继续解析文档。脚本会在它<strong>下载完成后尽快执行</strong>，但是<strong>解析器不会停下来等它下载</strong>。异步脚本<strong>禁止使用document.write()</strong>，它们可以访问自己script和之前的文档元素</li>
<li>当文档完成解析，document.readState变成interactive</li>
<li>所有<strong>defer</strong>脚本会<strong>按照在文档出现的顺序执行</strong>，延迟脚本<strong>能访问完整文档树</strong>，禁止使用document.write()</li>
<li>浏览器<strong>在Document对象上触发DOMContentLoaded事件</strong></li>
<li>此时文档完全解析完成，浏览器可能还在等待如图片等内容加载，等这些<strong>内容完成载入并且所有异步脚本完成载入和执行</strong>，document.readState变为complete,window触发load事件</li>
</ol>
</li>
<li><strong>显示页面</strong>（HTML解析过程中会逐步显示页面）</li>
</ol>
<h3 id="HTTP-request报文结构是怎样的"><a href="#HTTP-request报文结构是怎样的" class="headerlink" title="HTTP request报文结构是怎样的"></a>HTTP request报文结构是怎样的</h3><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec5.html" target="_blank" rel="external">rfc2616</a>中进行了定义：</p>
<ol>
<li>首行是<strong>Request-Line</strong>包括：<strong>请求方法</strong>，<strong>请求URI</strong>，<strong>协议版本</strong>，<strong>CRLF</strong></li>
<li>首行之后是若干行<strong>请求头</strong>，包括<strong>general-header</strong>，<strong>request-header</strong>或者<strong>entity-header</strong>，每个一行以CRLF结束</li>
<li>请求头和消息实体之间有一个<strong>CRLF分隔</strong></li>
<li>根据实际请求需要可能包含一个<strong>消息实体</strong><br>一个请求报文例子如下：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">GET /Protocols/rfc2616/rfc2616-sec5.html HTTP/1.1</div><div class="line">Host: www.w3.org</div><div class="line">Connection: keep-alive</div><div class="line">Cache-Control: max-age=0</div><div class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div><div class="line">User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.1916.153 Safari/537.36</div><div class="line">Referer: https://www.google.com.hk/</div><div class="line">Accept-Encoding: gzip,deflate,sdch</div><div class="line">Accept-Language: zh-CN,zh;q=0.8,en;q=0.6</div><div class="line">Cookie: authorstyle=yes</div><div class="line">If-None-Match: &quot;2cc8-3e3073913b100&quot;</div><div class="line">If-Modified-Since: Wed, 01 Sep 2004 13:24:52 GMT</div><div class="line"></div><div class="line">name=qiu&amp;age=25</div></pre></td></tr></table></figure>
<h3 id="HTTP-response报文结构是怎样的"><a href="#HTTP-response报文结构是怎样的" class="headerlink" title="HTTP response报文结构是怎样的"></a>HTTP response报文结构是怎样的</h3><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec6.html" target="_blank" rel="external">rfc2616</a>中进行了定义：</p>
<ol>
<li>首行是状态行包括：<strong>HTTP版本，状态码，状态描述</strong>，后面跟一个CRLF</li>
<li>首行之后是<strong>若干行响应头</strong>，包括：<strong>通用头部，响应头部，实体头部</strong></li>
<li>响应头部和响应实体之间用<strong>一个CRLF空行</strong>分隔</li>
<li>最后是一个可能的<strong>消息实体</strong><br>响应报文例子如下：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">HTTP/1.1 200 OK</div><div class="line">Date: Tue, 08 Jul 2014 05:28:43 GMT</div><div class="line">Server: Apache/2</div><div class="line">Last-Modified: Wed, 01 Sep 2004 13:24:52 GMT</div><div class="line">ETag: &quot;40d7-3e3073913b100&quot;</div><div class="line">Accept-Ranges: bytes</div><div class="line">Content-Length: 16599</div><div class="line">Cache-Control: max-age=21600</div><div class="line">Expires: Tue, 08 Jul 2014 11:28:43 GMT</div><div class="line">P3P: policyref=&quot;http://www.w3.org/2001/05/P3P/p3p.xml&quot;</div><div class="line">Content-Type: text/html; charset=iso-8859-1</div><div class="line"></div><div class="line">&#123;&quot;name&quot;: &quot;qiu&quot;, &quot;age&quot;: 25&#125;</div></pre></td></tr></table></figure>
<h3 id="如何进行网站性能优化"><a href="#如何进行网站性能优化" class="headerlink" title="如何进行网站性能优化"></a>如何进行网站性能优化</h3><p><a href="https://developer.yahoo.com/performance/rules.html" target="_blank" rel="external">雅虎Best Practices for Speeding Up Your Web Site</a>：</p>
<ul>
<li><p>content方面</p>
<ol>
<li>减少HTTP请求：合并文件、CSS精灵、inline Image</li>
<li>减少DNS查询：DNS查询完成之前浏览器不能从这个主机下载任何任何文件。方法：DNS缓存、将资源分布到恰当数量的主机名，平衡并行下载和DNS查询</li>
<li>避免重定向：多余的中间访问</li>
<li>使Ajax可缓存</li>
<li>非必须组件延迟加载</li>
<li>未来所需组件预加载</li>
<li>减少DOM元素数量</li>
<li>将资源放到不同的域下：浏览器同时从一个域下载资源的数目有限，增加域可以提高并行下载量</li>
<li>减少iframe数量</li>
<li>不要404</li>
</ol>
</li>
<li><p>Server方面</p>
<ol>
<li>使用CDN</li>
<li>添加Expires或者Cache-Control响应头</li>
<li>对组件使用Gzip压缩</li>
<li>配置ETag</li>
<li>Flush Buffer Early</li>
<li>Ajax使用GET进行请求</li>
<li>避免空src的img标签</li>
</ol>
</li>
<li>Cookie方面<ol>
<li>减小cookie大小</li>
<li>引入资源的域名不要包含cookie</li>
</ol>
</li>
<li>css方面<ol>
<li>将样式表放到页面顶部</li>
<li>不使用CSS表达式</li>
<li>使用<link>不使用@import</li>
<li>不使用IE的Filter</li>
</ol>
</li>
<li>Javascript方面<ol>
<li>将脚本放到页面底部</li>
<li>将javascript和css从外部引入</li>
<li>压缩javascript和css</li>
<li>删除不需要的脚本</li>
<li>减少DOM访问</li>
<li>合理设计事件监听器</li>
</ol>
</li>
<li>图片方面<ol>
<li>优化图片：根据实际颜色需要选择色深、压缩</li>
<li>优化css精灵</li>
<li>不要在HTML中拉伸图片</li>
<li>保证favicon.ico小并且可缓存</li>
</ol>
</li>
<li>移动方面<ol>
<li>保证组件小于25k</li>
<li>Pack Components into a Multipart Document</li>
</ol>
</li>
</ul>
<h3 id="什么是渐进增强"><a href="#什么是渐进增强" class="headerlink" title="什么是渐进增强"></a>什么是渐进增强</h3><p>渐进增强是指在web设计时强调可访问性、语义化HTML标签、外部样式表和脚本。保证所有人都能访问页面的基本内容和功能同时为高级浏览器和高带宽用户提供更好的用户体验。核心原则如下:</p>
<ul>
<li>所有浏览器都必须能访问基本内容</li>
<li>所有浏览器都必须能使用基本功能</li>
<li>所有内容都包含在语义化标签中</li>
<li>通过外部CSS提供增强的布局</li>
<li>通过非侵入式、外部javascript提供增强功能</li>
<li>end-user web browser preferences are respected</li>
</ul>
<h3 id="HTTP状态码及其含义"><a href="#HTTP状态码及其含义" class="headerlink" title="HTTP状态码及其含义"></a>HTTP状态码及其含义</h3><p>参考<a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html" target="_blank" rel="external">RFC 2616</a></p>
<ul>
<li>1XX：信息状态码<ul>
<li><strong>100 Continue</strong>：客户端应当继续发送请求。这个临时相应是用来通知客户端它的部分请求已经被服务器接收，且仍未被拒绝。客户端应当继续发送请求的剩余部分，或者如果请求已经完成，忽略这个响应。服务器必须在请求万仇向客户端发送一个最终响应</li>
<li><strong>101 Switching Protocols</strong>：服务器已经理解力客户端的请求，并将通过Upgrade消息头通知客户端采用不同的协议来完成这个请求。在发送完这个响应最后的空行后，服务器将会切换到Upgrade消息头中定义的那些协议。</li>
</ul>
</li>
<li>2XX：成功状态码<ul>
<li><strong>200 OK</strong>：请求成功，请求所希望的响应头或数据体将随此响应返回</li>
<li><strong>201 Created</strong>：</li>
<li><strong>202 Accepted</strong>：</li>
<li><strong>203 Non-Authoritative Information</strong>：</li>
<li><strong>204 No Content</strong>：</li>
<li><strong>205 Reset Content</strong>：</li>
<li><strong>206 Partial Content</strong>：</li>
</ul>
</li>
<li>3XX：重定向<ul>
<li><strong>300 Multiple Choices</strong>：</li>
<li><strong>301 Moved Permanently</strong>：</li>
<li><strong>302 Found</strong>：</li>
<li><strong>303 See Other</strong>：</li>
<li><strong>304 Not Modified</strong>：</li>
<li><strong>305 Use Proxy</strong>：</li>
<li><strong>306 （unused）</strong>：</li>
<li><strong>307 Temporary Redirect</strong>：</li>
</ul>
</li>
<li>4XX：客户端错误<ul>
<li><strong>400 Bad Request</strong>:</li>
<li><strong>401 Unauthorized</strong>:</li>
<li><strong>402 Payment Required</strong>:</li>
<li><strong>403 Forbidden</strong>:</li>
<li><strong>404 Not Found</strong>:</li>
<li><strong>405 Method Not Allowed</strong>:</li>
<li><strong>406 Not Acceptable</strong>:</li>
<li><strong>407 Proxy Authentication Required</strong>:</li>
<li><strong>408 Request Timeout</strong>:</li>
<li><strong>409 Conflict</strong>:</li>
<li><strong>410 Gone</strong>:</li>
<li><strong>411 Length Required</strong>:</li>
<li><strong>412 Precondition Failed</strong>:</li>
<li><strong>413 Request Entity Too Large</strong>:</li>
<li><strong>414 Request-URI Too Long</strong>:</li>
<li><strong>415 Unsupported Media Type</strong>:</li>
<li><strong>416 Requested Range Not Satisfiable</strong>:</li>
<li><strong>417 Expectation Failed</strong>:</li>
</ul>
</li>
<li>5XX: 服务器错误<ul>
<li><strong>500 Internal Server Error</strong>:</li>
<li><strong>501 Not Implemented</strong>:</li>
<li><strong>502 Bad Gateway</strong>:</li>
<li><strong>503 Service Unavailable</strong>:</li>
<li><strong>504 Gateway Timeout</strong>:</li>
<li><strong>505 HTTP Version Not Supported</strong>:</li>
</ul>
</li>
</ul>
<h2 id="CSS部分"><a href="#CSS部分" class="headerlink" title="$CSS部分"></a>$CSS部分</h2><h3 id="CSS选择器有哪些"><a href="#CSS选择器有哪些" class="headerlink" title="CSS选择器有哪些"></a>CSS选择器有哪些</h3><ol>
<li><strong>*通用选择器</strong>：选择所有元素，<strong>不参与计算优先级</strong>，兼容性IE6+</li>
<li><strong>#X id选择器</strong>：选择id值为X的元素，兼容性：IE6+</li>
<li><strong>.X 类选择器</strong>： 选择class包含X的元素，兼容性：IE6+</li>
<li><strong>X Y后代选择器</strong>： 选择满足X选择器的后代节点中满足Y选择器的元素，兼容性：IE6+</li>
<li><strong>X 元素选择器</strong>： 选择标所有签为X的元素，兼容性：IE6+</li>
<li><strong>:link，：visited，：focus，：hover，：active链接状态</strong>： 选择特定状态的链接元素，顺序LoVe HAte，兼容性: IE4+</li>
<li><strong>X + Y直接兄弟选择器</strong>：在<strong>X之后第一个兄弟节点</strong>中选择满足Y选择器的元素，兼容性： IE7+</li>
<li><strong>X &gt; Y子选择器</strong>： 选择X的子元素中满足Y选择器的元素，兼容性： IE7+</li>
<li><strong>X ~ Y兄弟</strong>： 选择<strong>X之后所有兄弟节点</strong>中满足Y选择器的元素，兼容性： IE7+</li>
<li><strong>[attr]</strong>：选择所有设置了attr属性的元素，兼容性IE7+</li>
<li><strong>[attr=value]</strong>：选择属性值刚好为value的元素</li>
<li><strong>[attr~=value]</strong>：选择属性值为空白符分隔，其中一个的值刚好是value的元素</li>
<li><strong>[attr|=value]</strong>：选择属性值刚好为value或者value-开头的元素</li>
<li><strong>[attr^=value]</strong>：选择属性值以value开头的元素</li>
<li><strong>[attr$=value]</strong>：选择属性值以value结尾的元素</li>
<li><strong>[attr*=value]</strong>：选择属性值中包含value的元素</li>
<li><strong>[:checked]</strong>：选择单选框，复选框，下拉框中选中状态下的元素，兼容性：IE9+</li>
<li><strong>X:after, X::after</strong>：after伪元素，选择元素虚拟子元素（元素的最后一个子元素），CSS3中::表示伪元素。兼容性:after为IE8+，::after为IE9+</li>
<li><strong>:hover</strong>：鼠标移入状态的元素，兼容性a标签IE4+， 所有元素IE7+</li>
<li><strong>:not(selector)</strong>：选择不符合selector的元素。<strong>不参与计算优先级</strong>，兼容性：IE9+</li>
<li><strong>::first-letter</strong>：伪元素，选择块元素第一行的第一个字母，兼容性IE5.5+</li>
<li><strong>::first-line</strong>：伪元素，选择块元素的第一行，兼容性IE5.5+</li>
<li><strong>:nth-child(an + b)</strong>：伪类，选择前面有an + b - 1个兄弟节点的元素，其中n<br>&gt;= 0， 兼容性IE9+</li>
<li><strong>:nth-last-child(an + b)</strong>：伪类，选择后面有an + b - 1个兄弟节点的元素<br>其中n &gt;= 0，兼容性IE9+</li>
<li><strong>X:nth-of-type(an+b)</strong>：伪类，X为选择器，<strong>解析得到元素标签</strong>，选择<strong>前面</strong>有an + b - 1个<strong>相同标签</strong>兄弟节点的元素。兼容性IE9+</li>
<li><strong>X:nth-last-of-type(an+b)</strong>：伪类，X为选择器，解析得到元素标签，选择<strong>后面</strong>有an+b-1个相同<strong>标签</strong>兄弟节点的元素。兼容性IE9+</li>
<li><strong>X:first-child</strong>：伪类，选择满足X选择器的元素，且这个元素是其父节点的第一个子元素。兼容性IE7+</li>
<li><strong>X:last-child</strong>：伪类，选择满足X选择器的元素，且这个元素是其父节点的最后一个子元素。兼容性IE9+</li>
<li><strong>X:only-child</strong>：伪类，选择满足X选择器的元素，且这个元素是其父元素的唯一子元素。兼容性IE9+</li>
<li><strong>X:only-of-type</strong>：伪类，选择X选择的元素，<strong>解析得到元素标签</strong>，如果该元素没有相同类型的兄弟节点时选中它。兼容性IE9+</li>
<li><strong>X:first-of-type</strong>：伪类，选择X选择的元素，<strong>解析得到元素标签</strong>，如果该元素<br>是此此类型元素的第一个兄弟。选中它。兼容性IE9+</li>
</ol>
<h3 id="css-sprite是什么-有什么优缺点"><a href="#css-sprite是什么-有什么优缺点" class="headerlink" title="css sprite是什么,有什么优缺点"></a>css sprite是什么,有什么优缺点</h3><p>概念：将多个小图片拼接到一个图片中。通过background-position和元素尺寸调节需要显示的背景图案。</p>
<p>优点：</p>
<ol>
<li>减少HTTP请求数，极大地提高页面加载速度</li>
<li>增加图片信息重复度，提高压缩比，减少图片大小</li>
<li>更换风格方便，只需在一张或几张图片上修改颜色或样式即可实现</li>
</ol>
<p>缺点：</p>
<ol>
<li>图片合并麻烦</li>
<li>维护麻烦，修改一个图片可能需要从新布局整个图片，样式</li>
</ol>
<h3 id="display-none-与visibility-hidden-的区别"><a href="#display-none-与visibility-hidden-的区别" class="headerlink" title="display: none;与visibility: hidden;的区别"></a><code>display: none;</code>与<code>visibility: hidden;</code>的区别</h3><p>联系：它们都能让元素不可见</p>
<p>区别：</p>
<ol>
<li>display:none;会让元素完全从渲染树中消失，渲染的时候不占据任何空间；visibility: hidden;不会让元素从渲染树消失，渲染师元素继续占据空间，只是内容不可见</li>
<li>display: none;是非继承属性，子孙节点消失由于元素从渲染树消失造成，通过修改子孙节点属性无法显示；visibility: hidden;是继承属性，子孙节点消失由于继承了hidden，通过设置visibility: visible;可以让子孙节点显式</li>
<li>修改常规流中元素的display通常会造成文档重排。修改visibility属性只会造成本元素的重绘。</li>
<li>读屏器不会读取display: none;元素内容；会读取visibility: hidden;元素内容</li>
</ol>
<h3 id="css-hack原理及常用hack"><a href="#css-hack原理及常用hack" class="headerlink" title="css hack原理及常用hack"></a>css hack原理及常用hack</h3><p>原理：利用<strong>不同浏览器对CSS的支持和解析结果不一样</strong>编写针对特定浏览器样式。常见的hack有1）属性hack。2）选择器hack。3）IE条件注释</p>
<ul>
<li>IE条件注释：适用于[IE5, IE9]常见格式如下</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;!--[if IE 6]&gt;</div><div class="line">Special instructions for IE 6 here</div><div class="line">&lt;![endif]--&gt;</div></pre></td></tr></table></figure>
<ul>
<li>选择器hack：不同浏览器对选择器的支持不一样</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line">/***** Selector Hacks ******/</div><div class="line"></div><div class="line">/* IE6 and below */</div><div class="line">* html #uno  &#123; color: red &#125;</div><div class="line"></div><div class="line">/* IE7 */</div><div class="line">*:first-child+html #dos &#123; color: red &#125;</div><div class="line"></div><div class="line">/* IE7, FF, Saf, Opera  */</div><div class="line">html&gt;body #tres &#123; color: red &#125;</div><div class="line"></div><div class="line">/* IE8, FF, Saf, Opera (Everything but IE 6,7) */</div><div class="line">html&gt;/**/body #cuatro &#123; color: red &#125;</div><div class="line"></div><div class="line">/* Opera 9.27 and below, safari 2 */</div><div class="line">html:first-child #cinco &#123; color: red &#125;</div><div class="line"></div><div class="line">/* Safari 2-3 */</div><div class="line">html[xmlns*=&quot;&quot;] body:last-child #seis &#123; color: red &#125;</div><div class="line"></div><div class="line">/* safari 3+, chrome 1+, opera9+, ff 3.5+ */</div><div class="line">body:nth-of-type(1) #siete &#123; color: red &#125;</div><div class="line"></div><div class="line">/* safari 3+, chrome 1+, opera9+, ff 3.5+ */</div><div class="line">body:first-of-type #ocho &#123;  color: red &#125;</div><div class="line"></div><div class="line">/* saf3+, chrome1+ */</div><div class="line">@media screen and (-webkit-min-device-pixel-ratio:0) &#123;</div><div class="line"> #diez  &#123; color: red  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">/* iPhone / mobile webkit */</div><div class="line">@media screen and (max-device-width: 480px) &#123;</div><div class="line"> #veintiseis &#123; color: red  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">/* Safari 2 - 3.1 */</div><div class="line">html[xmlns*=&quot;&quot;]:root #trece  &#123; color: red  &#125;</div><div class="line"></div><div class="line">/* Safari 2 - 3.1, Opera 9.25 */</div><div class="line">*|html[xmlns*=&quot;&quot;] #catorce &#123; color: red  &#125;</div><div class="line"></div><div class="line">/* Everything but IE6-8 */</div><div class="line">:root *&gt; #quince &#123; color: red  &#125;</div><div class="line"></div><div class="line">/* IE7 */</div><div class="line">*+html #dieciocho &#123;  color: red &#125;</div><div class="line"></div><div class="line">/* Firefox only. 1+ */</div><div class="line">#veinticuatro,  x:-moz-any-link  &#123; color: red &#125;</div><div class="line"></div><div class="line">/* Firefox 3.0+ */</div><div class="line">#veinticinco,  x:-moz-any-link, x:default  &#123; color: red  &#125;</div></pre></td></tr></table></figure>
<ul>
<li>属性hack：不同浏览器解析bug或方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">/* IE6 */</div><div class="line">#once &#123; _color: blue &#125;</div><div class="line"></div><div class="line">/* IE6, IE7 */</div><div class="line">#doce &#123; *color: blue; /* or #color: blue */ &#125;</div><div class="line"></div><div class="line">/* Everything but IE6 */</div><div class="line">#diecisiete &#123; color/**/: blue &#125;</div><div class="line"></div><div class="line">/* IE6, IE7, IE8 */</div><div class="line">#diecinueve &#123; color: blue\9; &#125;</div><div class="line"></div><div class="line">/* IE7, IE8 */</div><div class="line">#veinte &#123; color/*\**/: blue\9; &#125;</div><div class="line"></div><div class="line">/* IE6, IE7 -- acts as an !important */</div><div class="line">#veintesiete &#123; color: blue !ie; &#125; /* string after ! can be anything */</div></pre></td></tr></table></figure>
<h3 id="specified-value-computed-value-used-value计算方法"><a href="#specified-value-computed-value-used-value计算方法" class="headerlink" title="specified value,computed value,used value计算方法"></a>specified value,computed value,used value计算方法</h3><ul>
<li><p>specified value: 计算方法如下：</p>
<ol>
<li>如果样式表设置了一个值，使用这个值</li>
<li>如果没有设置值，这个属性是继承属性，从父元素继承</li>
<li>如果没设置，并且不是继承属性，使用css规范指定的初始值</li>
</ol>
</li>
<li><p>computed value: 以specified value根据规范定义的行为进行计算，通常将相对值计算为绝对值，例如em根据font-size进行计算。一些使用百分数并且需要布局来决定最终值的属性，如width，margin。百分数就直接作为computed value。line-height的无单位值也直接作为computed value。这些值将在计算used value时得到绝对值。<strong>computed value的主要作用是用于继承</strong></p>
</li>
<li><p>used value：属性计算后的最终值，对于大多数属性可以通过window.getComputedStyle获得，尺寸值单位为像素。以下属性依赖于布局，</p>
<ul>
<li>background-position</li>
<li>bottom, left, right, top</li>
<li>height, width</li>
<li>margin-bottom, margin-left, margin-right, margin-top</li>
<li>min-height, min-width</li>
<li>padding-bottom, padding-left, padding-right, padding-top</li>
<li>text-indent</li>
</ul>
</li>
</ul>
<h3 id="link与-import的区别"><a href="#link与-import的区别" class="headerlink" title="link与@import的区别"></a><code>link</code>与<code>@import</code>的区别</h3><ol>
<li><code>link</code>是HTML方式， <code>@import</code>是CSS方式</li>
<li><code>link</code>最大限度支持并行下载，<code>@import</code>过多嵌套导致串行下载，出现<a href="http://www.bluerobot.com/web/css/fouc.asp/" target="_blank" rel="external">FOUC</a></li>
<li><code>link</code>可以通过<code>rel=&quot;alternate stylesheet&quot;</code>指定候选样式</li>
<li>浏览器对<code>link</code>支持早于<code>@import</code>，可以使用<code>@import</code>对老浏览器隐藏样式</li>
<li><code>@import</code>必须在样式规则之前，可以在css文件中引用其他文件</li>
<li>总体来说：<strong><a href="http://www.stevesouders.com/blog/2009/04/09/dont-use-import/" target="_blank" rel="external">link优于@import</a></strong></li>
</ol>
<h3 id="display-block-和display-inline-的区别"><a href="#display-block-和display-inline-的区别" class="headerlink" title="display: block;和display: inline;的区别"></a><code>display: block;</code>和<code>display: inline;</code>的区别</h3><p><code>block</code>元素特点：</p>
<p>1.处于常规流中时，如果<code>width</code>没有设置，会自动填充满父容器<br>2.可以应用<code>margin/padding</code><br>3.在没有设置高度的情况下会扩展高度以包含常规流中的子元素<br>4.处于常规流中时布局时在前后元素位置之间（独占一个水平空间）<br>5.忽略<code>vertical-align</code></p>
<p><code>inline</code>元素特点</p>
<p>1.水平方向上根据<code>direction</code>依次布局<br>2.不会在元素前后进行换行<br>3.受<code>white-space</code>控制<br>4.<code>margin/padding</code>在竖直方向上无效，水平方向上有效<br>5.<code>width/height</code>属性对非替换行内元素无效，宽度由元素内容决定<br>6.非替换行内元素的行框高由<code>line-height</code>确定，替换行内元素的行框高由<code>height</code>,<code>margin</code>,<code>padding</code>,<code>border</code>决定<br>6.浮动或绝对定位时会转换为<code>block</code><br>7.<code>vertical-align</code>属性生效</p>
<h3 id="PNG-GIF-JPG的区别及如何选"><a href="#PNG-GIF-JPG的区别及如何选" class="headerlink" title="PNG,GIF,JPG的区别及如何选"></a>PNG,GIF,JPG的区别及如何选</h3><p>参考资料： <a href="http://www.yuiblog.com/blog/2008/11/04/imageopt-2/" target="_blank" rel="external">选择正确的图片格式</a><br><strong>GIF</strong>:</p>
<ol>
<li>8位像素，256色</li>
<li>无损压缩</li>
<li>支持简单动画</li>
<li>支持boolean透明</li>
<li>适合简单动画</li>
</ol>
<p><strong>JPEG</strong>：</p>
<ol>
<li>颜色限于256</li>
<li>有损压缩</li>
<li>可控制压缩质量</li>
<li>不支持透明</li>
<li>适合照片</li>
</ol>
<p><strong>PNG</strong>：</p>
<ol>
<li>有PNG8和truecolor PNG</li>
<li>PNG8类似GIF颜色上限为256，文件小，支持alpha透明度，无动画</li>
<li>适合图标、背景、按钮</li>
</ol>
<h3 id="CSS有哪些继承属性"><a href="#CSS有哪些继承属性" class="headerlink" title="CSS有哪些继承属性"></a>CSS有哪些继承属性</h3><ul>
<li>关于文字排版的属性如：<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/font" target="_blank" rel="external">font</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/word-break" target="_blank" rel="external">word-break</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/letter-spacing" target="_blank" rel="external">letter-spacing</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-align" target="_blank" rel="external">text-align</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-rendering" target="_blank" rel="external">text-rendering</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/word-spacing" target="_blank" rel="external">word-spacing</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/white-space" target="_blank" rel="external">white-space</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-indent" target="_blank" rel="external">text-indent</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-transform" target="_blank" rel="external">text-transform</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-shadow" target="_blank" rel="external">text-shadow</a></li>
</ul>
</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/line-height" target="_blank" rel="external">line-height</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color" target="_blank" rel="external">color</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/visibility" target="_blank" rel="external">visibility</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/cursor" target="_blank" rel="external">cursor</a></li>
</ul>
<h3 id="IE6浏览器有哪些常见的bug-缺陷或者与标准不一致的地方-如何解决"><a href="#IE6浏览器有哪些常见的bug-缺陷或者与标准不一致的地方-如何解决" class="headerlink" title="IE6浏览器有哪些常见的bug,缺陷或者与标准不一致的地方,如何解决"></a>IE6浏览器有哪些常见的bug,缺陷或者与标准不一致的地方,如何解决</h3><ul>
<li>IE6不支持min-height，解决办法使用css hack：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">.target &#123;</div><div class="line">    min-height: 100px;</div><div class="line">    height: auto !important;</div><div class="line">    height: 100px;   // IE6下内容高度超过会自动扩展高度</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><p><code>ol</code>内<code>li</code>的序号全为1，不递增。解决方法：为li设置样式<code>display: list-item;</code></p>
</li>
<li><p>未定位父元素<code>overflow: auto;</code>，包含<code>position: relative;</code>子元素，子元素高于父元素时会溢出。解决办法：1）子元素去掉<code>position: relative;</code>; 2）不能为子元素去掉定位时，父元素<code>position: relative;</code></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;style type=&quot;text/css&quot;&gt;</div><div class="line">.outer &#123;</div><div class="line">    width: 215px;</div><div class="line">    height: 100px;</div><div class="line">    border: 1px solid red;</div><div class="line">    overflow: auto;</div><div class="line">    position: relative;  /* 修复bug */</div><div class="line">&#125;</div><div class="line">.inner &#123;</div><div class="line">    width: 100px;</div><div class="line">    height: 200px;</div><div class="line">    background-color: purple;</div><div class="line">    position: relative;</div><div class="line">&#125;</div><div class="line">&lt;/style&gt;</div><div class="line"></div><div class="line">&lt;div class=&quot;outer&quot;&gt;</div><div class="line">    &lt;div class=&quot;inner&quot;&gt;&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<ul>
<li>IE6只支持<code>a</code>标签的<code>:hover</code>伪类，解决方法：使用js为元素监听mouseenter，mouseleave事件，添加类实现效果：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">&lt;style type=&quot;text/css&quot;&gt;</div><div class="line">.p:hover,</div><div class="line">.hover &#123;</div><div class="line">    background: purple;</div><div class="line">&#125;</div><div class="line">&lt;/style&gt;</div><div class="line"></div><div class="line">&lt;p class=&quot;p&quot; id=&quot;target&quot;&gt;aaaa bbbbb&lt;span&gt;DDDDDDDDDDDd&lt;/span&gt; aaaa lkjlkjdf j&lt;/p&gt;</div><div class="line"></div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">function addClass(elem, cls) &#123;</div><div class="line">    if (elem.className) &#123;</div><div class="line">        elem.className += &apos; &apos; + cls;</div><div class="line">    &#125; else &#123;</div><div class="line">        elem.className = cls;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">function removeClass(elem, cls) &#123;</div><div class="line">    var className = &apos; &apos; + elem.className + &apos; &apos;;</div><div class="line">    var reg = new RegExp(&apos; +&apos; + cls + &apos; +&apos;, &apos;g&apos;);</div><div class="line">    elem.className = className.replace(reg, &apos; &apos;).replace(/^ +| +$/, &apos;&apos;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">var target = document.getElementById(&apos;target&apos;);</div><div class="line">if (target.attachEvent) &#123;</div><div class="line">    target.attachEvent(&apos;onmouseenter&apos;, function () &#123;</div><div class="line">        addClass(target, &apos;hover&apos;);</div><div class="line">    &#125;);</div><div class="line">    target.attachEvent(&apos;onmouseleave&apos;, function () &#123;</div><div class="line">        removeClass(target, &apos;hover&apos;);</div><div class="line">    &#125;)</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<ul>
<li>IE5-8不支持<code>opacity</code>，解决办法：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">.opacity &#123;</div><div class="line">    opacity: 0.4</div><div class="line">    filter: alpha(opacity=60); /* for IE5-7 */</div><div class="line">    -ms-filter: &quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=60)&quot;; /* for IE 8*/</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>IE6在设置<code>height</code>小于<code>font-size</code>时高度值为<code>font-size</code>，解决办法：<code>font-size: 0;</code></li>
<li>IE6不支持PNG透明背景，解决办法: <strong>IE6下使用gif图片</strong></li>
<li>IE6-7不支持<code>display: inline-block</code>解决办法：设置inline并触发hasLayout</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">display: inline-block;</div><div class="line">*display: inline;</div><div class="line">*zoom: 1;</div></pre></td></tr></table></figure>
<ul>
<li>IE6下浮动元素在浮动方向上与父元素边界接触元素的外边距会加倍。解决办法：<br>1）使用padding控制间距。<br>2）浮动元素<code>display: inline;</code>这样解决问题且无任何副作用：css标准规定浮动元素display:inline会自动调整为block</li>
<li>通过为块级元素设置宽度和左右margin为auto时，IE6不能实现水平居中，解决方法：为父元素设置<code>text-align: center;</code></li>
</ul>
<h3 id="容器包含若干浮动元素时如何清理-包含-浮动"><a href="#容器包含若干浮动元素时如何清理-包含-浮动" class="headerlink" title="容器包含若干浮动元素时如何清理(包含)浮动"></a>容器包含若干浮动元素时如何清理(包含)浮动</h3><ol>
<li>容器元素闭合标签前添加额外元素并设置<code>clear: both</code></li>
<li>父元素触发块级格式化上下文(见块级可视化上下文部分)</li>
<li>设置容器元素伪元素进行清理<a href="http://nicolasgallagher.com/micro-clearfix-hack/" target="_blank" rel="external">推荐的清理浮动方法</a></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">* 在标准浏览器下使用</div><div class="line">* 1 content内容为空格用于修复opera下文档中出现</div><div class="line">*   contenteditable属性时在清理浮动元素上下的空白</div><div class="line">* 2 使用display使用table而不是block：可以防止容器和</div><div class="line">*   子元素top-margin折叠,这样能使清理效果与BFC，IE6/7</div><div class="line">*   zoom: 1;一致</div><div class="line">**/</div><div class="line"></div><div class="line">.clearfix:before,</div><div class="line">.clearfix:after &#123;</div><div class="line">    content: &quot; &quot;; /* 1 */</div><div class="line">    display: table; /* 2 */</div><div class="line">&#125;</div><div class="line"></div><div class="line">.clearfix:after &#123;</div><div class="line">    clear: both;</div><div class="line">&#125;</div><div class="line"></div><div class="line">/**</div><div class="line">* IE 6/7下使用</div><div class="line">* 通过触发hasLayout实现包含浮动</div><div class="line">**/</div><div class="line">.clearfix &#123;</div><div class="line">    *zoom: 1;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="什么是FOUC-如何避免"><a href="#什么是FOUC-如何避免" class="headerlink" title="什么是FOUC?如何避免"></a>什么是FOUC?如何避免</h3><p>Flash Of Unstyled Content：用户定义样式表加载之前浏览器使用默认样式显示文档，用户样式加载渲染之后再从新显示文档，造成页面闪烁。<strong>解决方法</strong>：把样式表放到文档的<code>head</code></p>
<h3 id="如何创建块级格式化上下文-block-formatting-context-BFC有什么用"><a href="#如何创建块级格式化上下文-block-formatting-context-BFC有什么用" class="headerlink" title="如何创建块级格式化上下文(block formatting context),BFC有什么用"></a>如何创建块级格式化上下文(block formatting context),BFC有什么用</h3><p>创建规则：</p>
<ol>
<li>根元素</li>
<li>浮动元素（<code>float</code>不是<code>none</code>）</li>
<li>绝对定位元素（<code>position</code>取值为<code>absolute</code>或<code>fixed</code>）</li>
<li><code>display</code>取值为<code>inline-block</code>,<code>table-cell</code>, <code>table-caption</code>,<code>flex</code>, <code>inline-flex</code>之一的元素</li>
<li><code>overflow</code>不是<code>visible</code>的元素</li>
</ol>
<p>作用：</p>
<ol>
<li>可以包含浮动元素</li>
<li>不被浮动元素覆盖</li>
<li>阻止父子元素的margin折叠</li>
</ol>
<h3 id="display-float-position的关系"><a href="#display-float-position的关系" class="headerlink" title="display,float,position的关系"></a>display,float,position的关系</h3><ol>
<li>如果<code>display</code>为none，那么position和float都不起作用，这种情况下元素不产生框</li>
<li>否则，如果position值为absolute或者fixed，框就是绝对定位的，float的计算值为none，display根据下面的表格进行调整。</li>
<li>否则，如果float不是none，框是浮动的，display根据下表进行调整</li>
<li>否则，如果元素是根元素，display根据下表进行调整</li>
<li>其他情况下display的值为指定值<br>总结起来：<strong>绝对定位、浮动、根元素都需要调整<code>display</code></strong><br><img src="img/display-adjust.png" alt="display转换规则"></li>
</ol>
<h3 id="外边距折叠-collapsing-margins"><a href="#外边距折叠-collapsing-margins" class="headerlink" title="外边距折叠(collapsing margins)"></a>外边距折叠(collapsing margins)</h3><p>毗邻的两个或多个<code>margin</code>会合并成一个margin，叫做外边距折叠。规则如下：</p>
<ol>
<li>两个或多个毗邻的普通流中的块元素垂直方向上的margin会折叠</li>
<li>浮动元素/inline-block元素/绝对定位元素的margin不会和垂直方向上的其他元素的margin折叠</li>
<li>创建了块级格式化上下文的元素，不会和它的子元素发生margin折叠</li>
<li>元素自身的margin-bottom和margin-top相邻时也会折叠</li>
</ol>
<h3 id="如何确定一个元素的包含块-containing-block"><a href="#如何确定一个元素的包含块-containing-block" class="headerlink" title="如何确定一个元素的包含块(containing block)"></a>如何确定一个元素的包含块(containing block)</h3><ol>
<li>根元素的包含块叫做初始包含块，在连续媒体中他的尺寸与viewport相同并且anchored at the canvas origin；对于paged media，它的尺寸等于page area。初始包含块的direction属性与根元素相同。</li>
<li><code>position</code>为<code>relative</code>或者<code>static</code>的元素，它的包含块由最近的块级（<code>display</code>为<code>block</code>,<code>list-item</code>, <code>table</code>）祖先元素的<strong>内容框</strong>组成</li>
<li>如果元素<code>position</code>为<code>fixed</code>。对于连续媒体，它的包含块为viewport；对于paged media，包含块为page area</li>
<li><p>如果元素<code>position</code>为<code>absolute</code>，它的包含块由祖先元素中最近一个<code>position</code>为<code>relative</code>,<code>absolute</code>或者<code>fixed</code>的元素产生，规则如下：</p>
<ul>
<li>如果祖先元素为行内元素，the containing block is the bounding box around the <strong>padding boxes</strong> of the first and the last inline boxes generated for that element.</li>
<li><p>其他情况下包含块由祖先节点的<strong>padding edge</strong>组成</p>
<p>如果找不到定位的祖先元素，包含块为<strong>初始包含块</strong></p>
</li>
</ul>
</li>
</ol>
<h3 id="stacking-context-布局规则"><a href="#stacking-context-布局规则" class="headerlink" title="stacking context,布局规则"></a>stacking context,布局规则</h3><p>z轴上的默认层叠顺序如下（从下到上）：</p>
<ol>
<li>根元素的边界和背景</li>
<li>常规流中的元素按照html中顺序</li>
<li>浮动块</li>
<li>positioned元素按照html中出现顺序</li>
</ol>
<p>如何创建stacking context：</p>
<ol>
<li>根元素</li>
<li>z-index不为auto的定位元素</li>
<li>a flex item with a z-index value other than ‘auto’</li>
<li>opacity小于1的元素</li>
<li>在移动端webkit和chrome22+，z-index为auto，position: fixed也将创建新的stacking context</li>
</ol>
<h3 id="如何水平居中一个元素"><a href="#如何水平居中一个元素" class="headerlink" title="如何水平居中一个元素"></a>如何水平居中一个元素</h3><ul>
<li>如果需要居中的元素为<strong>常规流中inline元素</strong>，为父元素设置<code>text-align: center;</code>即可实现</li>
<li>如果需要居中的元素为<strong>常规流中block元素</strong>，1）为元素设置宽度，2）设置左右margin为auto。3）IE6下需在父元素上设置<code>text-align: center;</code>,再给子元素恢复需要的值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">    &lt;div class=&quot;content&quot;&gt;</div><div class="line">    aaaaaa aaaaaa a a a a a a a a</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line"></div><div class="line">&lt;style&gt;</div><div class="line">    body &#123;</div><div class="line">        background: #DDD;</div><div class="line">        text-align: center; /* 3 */</div><div class="line">    &#125;</div><div class="line">    .content &#123;</div><div class="line">        width: 500px;      /* 1 */</div><div class="line">        text-align: left;  /* 3 */</div><div class="line">        margin: 0 auto;    /* 2 */</div><div class="line"></div><div class="line">        background: purple;</div><div class="line">    &#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<ul>
<li>如果需要居中的元素为<strong>浮动元素</strong>，1）为元素设置宽度，2）<code>position: relative;</code>，3）浮动方向偏移量（left或者right）设置为50%，4）浮动方向上的margin设置为元素宽度一半乘以-1</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">    &lt;div class=&quot;content&quot;&gt;</div><div class="line">    aaaaaa aaaaaa a a a a a a a a</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line"></div><div class="line">&lt;style&gt;</div><div class="line">    body &#123;</div><div class="line">        background: #DDD;</div><div class="line">    &#125;</div><div class="line">    .content &#123;</div><div class="line">        width: 500px;         /* 1 */</div><div class="line">        float: left;</div><div class="line"></div><div class="line">        position: relative;   /* 2 */</div><div class="line">        left: 50%;            /* 3 */</div><div class="line">        margin-left: -250px;  /* 4 */</div><div class="line"></div><div class="line">        background-color: purple;</div><div class="line">    &#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<ul>
<li>如果需要居中的元素为<strong>绝对定位元素</strong>，1）为元素设置宽度，2）偏移量设置为50%，3）偏移方向外边距设置为元素宽度一半乘以-1</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">    &lt;div class=&quot;content&quot;&gt;</div><div class="line">    aaaaaa aaaaaa a a a a a a a a</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line"></div><div class="line">&lt;style&gt;</div><div class="line">    body &#123;</div><div class="line">        background: #DDD;</div><div class="line">        position: relative;</div><div class="line">    &#125;</div><div class="line">    .content &#123;</div><div class="line">        width: 800px;</div><div class="line"></div><div class="line">        position: absolute;</div><div class="line">        left: 50%;</div><div class="line">        margin-left: -400px;</div><div class="line"></div><div class="line">        background-color: purple;</div><div class="line">    &#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<ul>
<li>如果需要居中的元素为<strong>绝对定位元素</strong>，1）为元素设置宽度，2）设置左右偏移量都为0,3）设置左右外边距都为auto</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">    &lt;div class=&quot;content&quot;&gt;</div><div class="line">    aaaaaa aaaaaa a a a a a a a a</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line"></div><div class="line">&lt;style&gt;</div><div class="line">    body &#123;</div><div class="line">        background: #DDD;</div><div class="line">        position: relative;</div><div class="line">    &#125;</div><div class="line">    .content &#123;</div><div class="line">        width: 800px;</div><div class="line"></div><div class="line">        position: absolute;</div><div class="line">        margin: 0 auto;</div><div class="line">        left: 0;</div><div class="line">        right: 0;</div><div class="line"></div><div class="line">        background-color: purple;</div><div class="line">    &#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<h3 id="如何竖直居中一个元素"><a href="#如何竖直居中一个元素" class="headerlink" title="如何竖直居中一个元素"></a>如何竖直居中一个元素</h3><p>参考资料：<a href="http://www.vanseodesign.com/css/vertical-centering/" target="_blank" rel="external">6 Methods For Vertical Centering With CSS</a>。 <a href="http://blog.csdn.net/freshlover/article/details/11579669" target="_blank" rel="external">盘点8种CSS实现垂直居中</a></p>
<ul>
<li>需要居中元素为<strong>单行文本</strong>，为包含文本的元素设置大于<code>font-size</code>的<code>line-height</code>：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;p class=&quot;text&quot;&gt;center text&lt;/p&gt;</div><div class="line"></div><div class="line">&lt;style&gt;</div><div class="line">.text &#123;</div><div class="line">    line-height: 200px;</div><div class="line">&#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<h2 id="javascript概念部分"><a href="#javascript概念部分" class="headerlink" title="$javascript概念部分"></a>$javascript概念部分</h2><h3 id="DOM元素e的e-getAttribute-propName-和e-propName有什么区别和联系"><a href="#DOM元素e的e-getAttribute-propName-和e-propName有什么区别和联系" class="headerlink" title="DOM元素e的e.getAttribute(propName)和e.propName有什么区别和联系"></a>DOM元素e的e.getAttribute(propName)和e.propName有什么区别和联系</h3><ul>
<li>e.getAttribute()，是标准DOM操作文档元素属性的方法，具有通用性可在任意文档上使用，返回元素在源文件中<strong>设置的属性</strong></li>
<li>e.propName通常是在HTML文档中访问特定元素的<strong>特性</strong>，浏览器解析元素后生成对应对象（如a标签生成HTMLAnchorElement），这些对象的特性会根据特定规则结合属性设置得到，对于没有对应特性的属性，只能使用getAttribute进行访问</li>
<li>e.getAttribute()返回值是源文件中设置的值，类型是字符串或者null（有的实现返回””）</li>
<li>e.propName返回值可能是字符串、布尔值、对象、undefined等</li>
<li>大部分attribute与property是一一对应关系，修改其中一个会影响另一个，如id，title等属性</li>
<li>一些布尔属性<code>&lt;input hidden/&gt;</code>的检测设置需要hasAttribute和removeAttribute来完成，或者设置对应property</li>
<li>像<code>&lt;a href=&quot;../index.html&quot;&gt;link&lt;/a&gt;</code>中href属性，转换成property的时候需要通过转换得到完整URL</li>
<li>一些attribute和property不是一一对应如：form控件中<code>&lt;input value=&quot;hello&quot;/&gt;</code>对应的是defaultValue，修改或设置value property修改的是控件当前值，setAttribute修改value属性不会改变value property</li>
</ul>
<h3 id="offsetWidth-offsetHeight-clientWidth-clientHeight与scrollWidth-scrollHeight的区别"><a href="#offsetWidth-offsetHeight-clientWidth-clientHeight与scrollWidth-scrollHeight的区别" class="headerlink" title="offsetWidth/offsetHeight,clientWidth/clientHeight与scrollWidth/scrollHeight的区别"></a>offsetWidth/offsetHeight,clientWidth/clientHeight与scrollWidth/scrollHeight的区别</h3><ul>
<li>offsetWidth/offsetHeight返回值包含<strong>content + padding + border</strong>，效果与e.getBoundingClientRect()相同</li>
<li>clientWidth/clientHeight返回值只包含<strong>content + padding</strong>，如果有滚动条，也<strong>不包含滚动条</strong></li>
<li>scrollWidth/scrollHeight返回值包含<strong>content + padding + 溢出内容的尺寸</strong></li>
</ul>
<p><a href="http://msdn.microsoft.com/en-us/library/ie/hh781509(v=vs.85" target="_blank" rel="external">Measuring Element Dimension and Location with CSSOM in Windows Internet Explorer 9</a>.aspx)</p>
<p><img src="img/element-size.png" alt="元素尺寸"></p>
<h3 id="XMLHttpRequest通用属性和方法"><a href="#XMLHttpRequest通用属性和方法" class="headerlink" title="XMLHttpRequest通用属性和方法"></a>XMLHttpRequest通用属性和方法</h3><ol>
<li><code>readyState</code>:表示请求状态的整数，取值：<ul>
<li>UNSENT（0）：对象已创建</li>
<li>OPENED（1）：open()成功调用，在这个状态下，可以为xhr设置请求头，或者使用send()发送请求</li>
<li>HEADERS_RECEIVED(2)：所有重定向已经自动完成访问，并且最终响应的HTTP头已经收到</li>
<li>LOADING(3)：响应体正在接收</li>
<li>DONE(4)：数据传输完成或者传输产生错误</li>
</ul>
</li>
<li><code>onreadystatechange</code>：readyState改变时调用的函数</li>
<li><code>status</code>：服务器返回的HTTP状态码（如，200， 404）</li>
<li><code>statusText</code>:服务器返回的HTTP状态信息（如，OK，No Content）</li>
<li><code>responseText</code>:作为字符串形式的来自服务器的完整响应</li>
<li><code>responseXML</code>: Document对象，表示服务器的响应解析成的XML文档</li>
<li><code>abort()</code>:取消异步HTTP请求</li>
<li><code>getAllResponseHeaders()</code>: 返回一个字符串，包含响应中服务器发送的全部HTTP报头。每个报头都是一个用冒号分隔开的名/值对，并且使用一个回车/换行来分隔报头行</li>
<li><code>getResponseHeader(headerName)</code>:返回headName对应的报头值</li>
<li><code>open(method, url, asynchronous [, user, password])</code>:初始化准备发送到服务器上的请求。method是HTTP方法，不区分大小写；url是请求发送的相对或绝对URL；asynchronous表示请求是否异步；user和password提供身份验证</li>
<li><code>setRequestHeader(name, value)</code>:设置HTTP报头</li>
<li><code>send(body)</code>:对服务器请求进行初始化。参数body包含请求的主体部分，对于POST请求为键值对字符串；对于GET请求，为null</li>
</ol>
<h3 id="focus-blur与focusin-focusout的区别与联系"><a href="#focus-blur与focusin-focusout的区别与联系" class="headerlink" title="focus/blur与focusin/focusout的区别与联系"></a>focus/blur与focusin/focusout的区别与联系</h3><ol>
<li>focus/blur不冒泡，focusin/focusout冒泡</li>
<li>focus/blur兼容性好，focusin/focusout在除FireFox外的浏览器下都保持良好兼容性，如需使用事件托管，可考虑在FireFox下使用事件捕获elem.addEventListener(‘focus’, handler, true)</li>
<li>可获得焦点的元素：<ol>
<li>window</li>
<li>链接被点击或键盘操作</li>
<li>表单空间被点击或键盘操作</li>
<li>设置<code>tabindex</code>属性的元素被点击或键盘操作</li>
</ol>
</li>
</ol>
<h3 id="mouseover-mouseout与mouseenter-mouseleave的区别与联系"><a href="#mouseover-mouseout与mouseenter-mouseleave的区别与联系" class="headerlink" title="mouseover/mouseout与mouseenter/mouseleave的区别与联系"></a>mouseover/mouseout与mouseenter/mouseleave的区别与联系</h3><ol>
<li>mouseover/mouseout是标准事件，<strong>所有浏览器都支持</strong>；mouseenter/mouseleave是IE5.5引入的特有事件后来被DOM3标准采纳，现代标准浏览器也支持</li>
<li>mouseover/mouseout是<strong>冒泡</strong>事件；mouseenter/mouseleave<strong>不冒泡</strong>。需要为<strong>多个元素监听鼠标移入/出事件时，推荐mouseover/mouseout托管，提高性能</strong></li>
<li>标准事件模型中event.target表示发生移入/出的元素,<strong>vent.relatedTarget</strong>对应移出/如元素；在老IE中event.srcElement表示发生移入/出的元素，<strong>event.toElement</strong>表示移出的目标元素，<strong>event.fromElement</strong>表示移入时的来源元素</li>
</ol>
<p>例子：鼠标从div#target元素移出时进行处理，判断逻辑如下：</p>
<pre><code>&lt;div id=&quot;target&quot;&gt;&lt;span&gt;test&lt;/span&gt;&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
var target = document.getElementById(&apos;target&apos;);
if (target.addEventListener) {
  target.addEventListener(&apos;mouseout&apos;, mouseoutHandler, false);
} else if (target.attachEvent) {
  target.attachEvent(&apos;onmouseout&apos;, mouseoutHandler);
}

function mouseoutHandler(e) {
  e = e || window.event;
  var target = e.target || e.srcElement;

  // 判断移出鼠标的元素是否为目标元素
  if (target.id !== &apos;target&apos;) {
    return;
  }

  // 判断鼠标是移出元素还是移到子元素
  var relatedTarget = event.relatedTarget || e.toElement;
  while (relatedTarget !== target
    &amp;&amp; relatedTarget.nodeName.toUpperCase() !== &apos;BODY&apos;) {
    relatedTarget = relatedTarget.parentNode;
  }

  // 如果相等，说明鼠标在元素内部移动
  if (relatedTarget === target) {
    return;
  }

  // 执行需要操作
  //alert(&apos;鼠标移出&apos;);

}
&lt;/script&gt;
</code></pre><h3 id="sessionStorage-localStorage-cookie区别"><a href="#sessionStorage-localStorage-cookie区别" class="headerlink" title="sessionStorage,localStorage,cookie区别"></a>sessionStorage,localStorage,cookie区别</h3><ol>
<li>都会在浏览器端保存，有大小限制，同源限制</li>
<li>cookie会在请求时发送到服务器，作为会话标识，服务器可修改cookie；web storage不会发送到服务器</li>
<li>cookie有path概念，子路径可以访问父路径cookie，父路径不能访问子路径cookie</li>
<li>有效期：cookie在设置的有效期内有效，默认为浏览器关闭；sessionStorage在窗口关闭前有效，localStorage长期有效，直到用户删除</li>
<li>共享：sessionStorage不能共享，localStorage在同源文档之间共享，cookie在同源且符合path规则的文档之间共享</li>
<li>localStorage的修改会促发其他文档窗口的update事件</li>
<li>cookie有secure属性要求HTTPS传输</li>
<li>浏览器不能保存超过300个cookie，单个服务器不能超过20个，每个cookie不能超过4k。web storage大小支持能达到5M</li>
</ol>
<h3 id="javascript跨域通信"><a href="#javascript跨域通信" class="headerlink" title="javascript跨域通信"></a>javascript跨域通信</h3><p>同源：两个文档同源需满足</p>
<ol>
<li>协议相同</li>
<li>域名相同</li>
<li>端口相同</li>
</ol>
<p>跨域通信：js进行DOM操作、通信时如果目标与当前窗口不满足同源条件，浏览器为了安全会阻止跨域操作。跨域通信通常有以下方法</p>
<ul>
<li>如果是log之类的简单<strong>单项通信</strong>，新建<code>&lt;img&gt;</code>,<code>&lt;script&gt;</code>,<code>&lt;link&gt;</code>,<code>&lt;iframe&gt;</code>元素，通过src，href属性设置为目标url。实现跨域请求</li>
<li>如果请求<strong>json数据</strong>，使用<code>&lt;script&gt;</code>进行jsonp请求</li>
<li>现代浏览器中<strong>多窗口通信</strong>使用HTML5规范的targetWindow.postMessage(data, origin);其中data是需要发送的对象，origin是目标窗口的origin。window.addEventListener(‘message’, handler, false);handler的event.data是postMessage发送来的数据，event.origin是发送窗口的origin，event.source是发送消息的窗口引用</li>
<li>内部服务器代理请求跨域url，然后返回数据</li>
<li>跨域请求数据，现代浏览器可使用HTML5规范的CORS功能，只要目标服务器返回HTTP头部<strong><code>Access-Control-Allow-Origin: *</code></strong>即可像普通ajax一样访问跨域资源</li>
</ul>
<h3 id="javascript有哪几种数据类型"><a href="#javascript有哪几种数据类型" class="headerlink" title="javascript有哪几种数据类型"></a>javascript有哪几种数据类型</h3><p>六种基本数据类型</p>
<ul>
<li>undefined</li>
<li>null</li>
<li>string</li>
<li>boolean</li>
<li>number</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Symbol" target="_blank" rel="external">symbol</a>(ES6)</li>
</ul>
<p>一种引用类型</p>
<ul>
<li>Object</li>
</ul>
<h3 id="什么闭包-闭包有什么用"><a href="#什么闭包-闭包有什么用" class="headerlink" title="什么闭包,闭包有什么用"></a>什么闭包,闭包有什么用</h3><p><strong>闭包是在某个作用域内定义的函数，它可以访问这个作用域内的所有变量</strong>。闭包作用域链通常包括三个部分：</p>
<ol>
<li>函数本身作用域。</li>
<li>闭包定义时的作用域。</li>
<li>全局作用域。</li>
</ol>
<p>闭包常见用途：</p>
<ol>
<li>创建特权方法用于访问控制</li>
<li>事件处理程序及回调</li>
</ol>
<h3 id="javascript有哪几种方法定义函数"><a href="#javascript有哪几种方法定义函数" class="headerlink" title="javascript有哪几种方法定义函数"></a>javascript有哪几种方法定义函数</h3><ol>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function" target="_blank" rel="external">函数声明表达式</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function" target="_blank" rel="external">function操作符</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="external">Function 构造函数</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/arrow_functions" target="_blank" rel="external">ES6:arrow function</a></li>
</ol>
<p>重要参考资料：<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions_and_function_scope" target="_blank" rel="external">MDN:Functions_and_function_scope</a></p>
<h3 id="应用程序存储和离线web应用"><a href="#应用程序存储和离线web应用" class="headerlink" title="应用程序存储和离线web应用"></a>应用程序存储和离线web应用</h3><p>HTML5新增应用程序缓存，允许web应用将应用程序自身保存到用户浏览器中，用户离线状态也能访问。<br>1.为html元素设置manifest属性:<code>&lt;html manifest=&quot;myapp.appcache&quot;&gt;</code>，其中后缀名只是一个约定，真正识别方式是通过<code>text/cache-manifest</code>作为MIME类型。所以需要配置服务器保证设置正确<br>2.manifest文件首行为<code>CACHE MANIFEST</code>，其余就是要缓存的URL列表，每个一行，相对路径都相对于manifest文件的url。注释以#开头<br>3.url分为三种类型：<code>CACHE</code>:为默认类型。<code>NETWORK</code>：表示资源从不缓存。 <code>FALLBACK</code>:每行包含两个url，第二个URL是指需要加载和存储在缓存中的资源， 第一个URL是一个前缀。任何匹配该前缀的URL都不会缓存，如果从网络中载入这样的URL失败的话，就会用第二个URL指定的缓存资源来替代。以下是一个文件例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">CACHE MANIFEST</div><div class="line"></div><div class="line">CACHE:</div><div class="line">myapp.html</div><div class="line">myapp.css</div><div class="line">myapp.js</div><div class="line"></div><div class="line">FALLBACK:</div><div class="line">videos/ offline_help.html</div><div class="line"></div><div class="line">NETWORK:</div><div class="line">cgi/</div></pre></td></tr></table></figure>
<h3 id="客户端存储localStorage和sessionStorage"><a href="#客户端存储localStorage和sessionStorage" class="headerlink" title="客户端存储localStorage和sessionStorage"></a>客户端存储localStorage和sessionStorage</h3><ul>
<li>localStorage有效期为永久，sessionStorage有效期为顶层窗口关闭前</li>
<li>同源文档可以读取并修改localStorage数据，sessionStorage只允许同一个窗口下的文档访问，如通过iframe引入的同源文档。</li>
<li>Storage对象通常被当做普通javascript对象使用：<strong>通过设置属性来存取字符串值</strong>，也可以通过<strong>setItem(key, value)设置</strong>，<strong>getItem(key)读取</strong>，<strong>removeItem(key)删除</strong>，<strong>clear()删除所有数据</strong>，<strong>length表示已存储的数据项数目</strong>，<strong>key(index)返回对应索引的key</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">localStorage.setItem(&apos;x&apos;, 1); // storge x-&gt;1</div><div class="line">localStorage.getItem(&apos;x); // return value of x</div><div class="line"></div><div class="line">// 枚举所有存储的键值对</div><div class="line">for (var i = 0, len = localStorage.length; i &lt; len; ++i ) &#123;</div><div class="line">    var name = localStorage.key(i);</div><div class="line">    var value = localStorage.getItem(name);</div><div class="line">&#125;</div><div class="line"></div><div class="line">localStorage.removeItem(&apos;x&apos;); // remove x</div><div class="line">localStorage.clear();  // remove all data</div></pre></td></tr></table></figure>
<h3 id="cookie及其操作"><a href="#cookie及其操作" class="headerlink" title="cookie及其操作"></a>cookie及其操作</h3><ul>
<li>cookie是web浏览器存储的少量数据，最早设计为服务器端使用，作为HTTP协议的扩展实现。cookie数据会自动在浏览器和服务器之间传输。</li>
<li>通过读写cookie检测是否支持</li>
<li>cookie属性有<strong>名</strong>，<strong>值</strong>，<strong>max-age</strong>，<strong>path</strong>, <strong>domain</strong>，<strong>secure</strong>；</li>
<li>cookie默认有效期为浏览器会话，一旦用户关闭浏览器，数据就丢失，通过设置<strong>max-age=seconds</strong>属性告诉浏览器cookie有效期</li>
<li>cookie作用域通过<strong>文档源</strong>和<strong>文档路径</strong>来确定，通过<strong>path</strong>和<strong>domain</strong>进行配置，web页面同目录或子目录文档都可访问</li>
<li>通过cookie保存数据的方法为：为document.cookie设置一个符合目标的字符串如下</li>
<li>读取document.cookie获得’; ‘分隔的字符串，key=value,解析得到结果</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">document.cookie = &apos;name=qiu; max-age=9999; path=/; domain=domain; secure&apos;;</div><div class="line"></div><div class="line">document.cookie = &apos;name=aaa; path=/; domain=domain; secure&apos;;</div><div class="line">// 要改变cookie的值，需要使用相同的名字、路径和域，新的值</div><div class="line">// 来设置cookie，同样的方法可以用来改变有效期</div><div class="line"></div><div class="line">// 设置max-age为0可以删除指定cookie</div><div class="line"></div><div class="line">//读取cookie，访问document.cookie返回键值对组成的字符串，</div><div class="line">//不同键值对之间用&apos;; &apos;分隔。通过解析获得需要的值</div></pre></td></tr></table></figure>
<p><a href="https://github.com/qiu-deqing/google/blob/master/module/js/cookieUtil.js" target="_blank" rel="external">cookieUtil.js</a>：自己写的cookie操作工具</p>
<h3 id="javascript有哪些方法定义对象"><a href="#javascript有哪些方法定义对象" class="headerlink" title="javascript有哪些方法定义对象"></a>javascript有哪些方法定义对象</h3><ol>
<li>对象字面量： <code>var obj = {};</code></li>
<li>构造函数： <code>var obj = new Object();</code></li>
<li>Object.create(): <code>var obj = Object.create(Object.prototype);</code></li>
</ol>
<h3 id="运算符判断相等的流程是怎样的"><a href="#运算符判断相等的流程是怎样的" class="headerlink" title="===运算符判断相等的流程是怎样的"></a>===运算符判断相等的流程是怎样的</h3><ol>
<li>如果两个值不是相同类型，它们不相等</li>
<li>如果两个值都是null或者都是undefined，它们相等</li>
<li>如果两个值都是布尔类型true或者都是false，它们相等</li>
<li>如果其中有一个是<strong>NaN</strong>，它们不相等</li>
<li>如果都是数值型并且数值相等，他们相等， -0等于0</li>
<li>如果他们都是字符串并且在相同位置包含相同的16位值，他它们相等；如果在长度或者内容上不等，它们不相等；两个字符串显示结果相同但是编码不同==和===都认为他们不相等</li>
<li>如果他们指向相同对象、数组、函数，它们相等；如果指向不同对象，他们不相等</li>
</ol>
<h3 id="运算符判断相等的流程是怎样的-1"><a href="#运算符判断相等的流程是怎样的-1" class="headerlink" title="==运算符判断相等的流程是怎样的"></a>==运算符判断相等的流程是怎样的</h3><ol>
<li>如果两个值类型相同，按照===比较方法进行比较</li>
<li>如果类型不同，使用如下规则进行比较<ol>
<li>如果其中一个值是null，另一个是undefined，它们相等</li>
<li>如果一个值是<strong>数字</strong>另一个是<strong>字符串</strong>，将<strong>字符串转换为数字</strong>进行比较</li>
<li>如果有布尔类型，将<strong>true转换为1，false转换为0</strong>，然后用==规则继续比较</li>
<li>如果一个值是对象，另一个是数字或字符串，将对象转换为原始值然后用==规则继续比较</li>
<li><strong>其他所有情况都认为不相等</strong></li>
</ol>
</li>
</ol>
<h3 id="对象到字符串的转换步骤"><a href="#对象到字符串的转换步骤" class="headerlink" title="对象到字符串的转换步骤"></a>对象到字符串的转换步骤</h3><ol>
<li>如果对象有toString()方法，javascript调用它。如果返回一个原始值（primitive value如：string number boolean）,将这个值转换为字符串作为结果</li>
<li>如果对象没有toString()方法或者返回值不是原始值，javascript寻找对象的valueOf()方法，如果存在就调用它，返回结果是原始值则转为字符串作为结果</li>
<li>否则，javascript不能从toString()或者valueOf()获得一个原始值，此时throws a TypeError</li>
</ol>
<h3 id="对象到数字的转换步骤"><a href="#对象到数字的转换步骤" class="headerlink" title="对象到数字的转换步骤"></a>对象到数字的转换步骤</h3><pre><code>1. 如果对象有valueOf()方法并且返回元素值，javascript将返回值转换为数字作为结果
2. 否则，如果对象有toString()并且返回原始值，javascript将返回结果转换为数字作为结果
3. 否则，throws a TypeError
</code></pre><h3 id="lt-gt-lt-gt-的比较规则"><a href="#lt-gt-lt-gt-的比较规则" class="headerlink" title="&lt;,&gt;,&lt;=,&gt;=的比较规则"></a>&lt;,&gt;,&lt;=,&gt;=的比较规则</h3><p>所有比较运算符都支持任意类型，但是<strong>比较只支持数字和字符串</strong>，所以需要执行必要的转换然后进行比较，转换规则如下:</p>
<ol>
<li>如果操作数是对象，转换为原始值：如果valueOf方法返回原始值，则使用这个值，否则使用toString方法的结果，如果转换失败则报错</li>
<li>经过必要的对象到原始值的转换后，如果两个操作数都是字符串，按照字母顺序进行比较（他们的16位unicode值的大小）</li>
<li>否则，如果有一个操作数不是字符串，<strong>将两个操作数转换为数字</strong>进行比较</li>
</ol>
<h3 id="运算符工作流程"><a href="#运算符工作流程" class="headerlink" title="+运算符工作流程"></a>+运算符工作流程</h3><ol>
<li>如果有操作数是对象，转换为原始值</li>
<li>此时如果有<strong>一个操作数是字符串</strong>，其他的操作数都转换为字符串并执行连接</li>
<li>否则：<strong>所有操作数都转换为数字并执行加法</strong></li>
</ol>
<h3 id="函数内部arguments变量有哪些特性-有哪些属性-如何将它转换为数组"><a href="#函数内部arguments变量有哪些特性-有哪些属性-如何将它转换为数组" class="headerlink" title="函数内部arguments变量有哪些特性,有哪些属性,如何将它转换为数组"></a>函数内部arguments变量有哪些特性,有哪些属性,如何将它转换为数组</h3><ul>
<li>arguments所有函数中都包含的一个局部变量，是一个类数组对象，对应函数调用时的实参。如果函数定义同名参数会在调用时覆盖默认对象</li>
<li>arguments[index]分别对应函数调用时的实参，并且通过arguments修改实参时会同时修改实参</li>
<li>arguments.length为实参的个数（Function.length表示形参长度）</li>
<li>arguments.callee为当前正在执行的函数本身，使用这个属性进行递归调用时需注意this的变化</li>
<li>arguments.caller为调用当前函数的函数（已被遗弃）</li>
<li>转换为数组：<code>var args = Array.prototype.slice.call(arguments, 0);</code></li>
</ul>
<h3 id="DOM事件模型是如何的-编写一个EventUtil工具类实现事件管理兼容"><a href="#DOM事件模型是如何的-编写一个EventUtil工具类实现事件管理兼容" class="headerlink" title="DOM事件模型是如何的,编写一个EventUtil工具类实现事件管理兼容"></a>DOM事件模型是如何的,编写一个EventUtil工具类实现事件管理兼容</h3><ul>
<li>DOM事件包含捕获（capture）和冒泡（bubble）两个阶段：捕获阶段事件从window开始触发事件然后通过祖先节点一次传递到触发事件的DOM元素上；冒泡阶段事件从初始元素依次向祖先节点传递直到window</li>
<li>标准事件监听elem.addEventListener(type, handler, capture)/elem.removeEventListener(type, handler, capture)：handler接收保存事件信息的event对象作为参数，event.target为触发事件的对象，handler调用上下文this为绑定监听器的对象，event.preventDefault()取消事件默认行为，event.stopPropagation()/event.stopImmediatePropagation()取消事件传递</li>
<li>老版本IE事件监听elem.attachEvent(‘on’+type, handler)/elem.detachEvent(‘on’+type, handler)：handler不接收event作为参数，事件信息保存在window.event中，触发事件的对象为event.srcElement，handler执行上下文this为window使用闭包中调用handler.call(elem, event)可模仿标准模型，然后返回闭包，保证了监听器的移除。event.returnValue为false时取消事件默认行为，event.cancleBubble为true时取消时间传播</li>
<li>通常利用事件冒泡机制托管事件处理程序提高程序性能。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 跨浏览器事件处理工具。只支持冒泡。不支持捕获</div><div class="line"> * @author  (qiu_deqing@126.com)</div><div class="line"> */</div><div class="line"></div><div class="line">var EventUtil = &#123;</div><div class="line">    getEvent: function (event) &#123;</div><div class="line">        return event || window.event;</div><div class="line">    &#125;,</div><div class="line">    getTarget: function (event) &#123;</div><div class="line">        return event.target || event.srcElement;</div><div class="line">    &#125;,</div><div class="line">    // 返回注册成功的监听器，IE中需要使用返回值来移除监听器</div><div class="line">    on: function (elem, type, handler) &#123;</div><div class="line">        if (elem.addEventListener) &#123;</div><div class="line">            elem.addEventListener(type, handler, false);</div><div class="line">            return handler;</div><div class="line">        &#125; else if (elem.attachEvent) &#123;</div><div class="line">            var wrapper = function () &#123;</div><div class="line">              var event = window.event;</div><div class="line">              event.target = event.srcElement;</div><div class="line">              handler.call(elem, event);</div><div class="line">            &#125;;</div><div class="line">            elem.attachEvent(&apos;on&apos; + type, wrapper);</div><div class="line">            return wrapper;</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    off: function (elem, type, handler) &#123;</div><div class="line">        if (elem.removeEventListener) &#123;</div><div class="line">            elem.removeEventListener(type, handler, false);</div><div class="line">        &#125; else if (elem.detachEvent) &#123;</div><div class="line">            elem.detachEvent(&apos;on&apos; + type, handler);</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    preventDefault: function (event) &#123;</div><div class="line">        if (event.preventDefault) &#123;</div><div class="line">            event.preventDefault();</div><div class="line">        &#125; else if (&apos;returnValue&apos; in event) &#123;</div><div class="line">            event.returnValue = false;</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    stopPropagation: function (event) &#123;</div><div class="line">        if (event.stopPropagation) &#123;</div><div class="line">            event.stopPropagation();</div><div class="line">        &#125; else if (&apos;cancelBubble&apos; in event) &#123;</div><div class="line">            event.cancelBubble = true;</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    /**</div><div class="line">     * keypress事件跨浏览器获取输入字符</div><div class="line">     * 某些浏览器在一些特殊键上也触发keypress，此时返回null</div><div class="line">     **/</div><div class="line">     getChar: function (event) &#123;</div><div class="line">        if (event.which == null) &#123;</div><div class="line">            return String.fromCharCode(event.keyCode);  // IE</div><div class="line">        &#125;</div><div class="line">        else if (event.which != 0 &amp;&amp; event.charCode != 0) &#123;</div><div class="line">            return String.fromCharCode(event.which);    // the rest</div><div class="line">        &#125;</div><div class="line">        else &#123;</div><div class="line">            return null;    // special key</div><div class="line">        &#125;</div><div class="line">     &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="评价一下三种方法实现继承的优缺点-并改进"><a href="#评价一下三种方法实现继承的优缺点-并改进" class="headerlink" title="评价一下三种方法实现继承的优缺点,并改进"></a>评价一下三种方法实现继承的优缺点,并改进</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">function Shape() &#123;&#125;</div><div class="line"></div><div class="line">function Rect() &#123;&#125;</div><div class="line"></div><div class="line">// 方法1</div><div class="line">Rect.prototype = new Shape();</div><div class="line"></div><div class="line">// 方法2</div><div class="line">Rect.prototype = Shape.prototype;</div><div class="line"></div><div class="line">// 方法3</div><div class="line">Rect.prototype = Object.create(Shape.prototype);</div><div class="line"></div><div class="line">Rect.prototype.area = function () &#123;</div><div class="line">  // do something</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>方法1：</p>
<ol>
<li>优点：正确设置原型链实现继承</li>
<li>优点：父类实例属性得到继承，原型链查找效率提高，也能为一些属性提供合理的默认值</li>
<li>缺点：父类实例属性为引用类型时，不恰当地修改会导致所有子类被修改</li>
<li>缺点：创建父类实例作为子类原型时，可能无法确定构造函数需要的合理参数，这样提供的参数继承给子类没有实际意义，当子类需要这些参数时应该在构造函数中进行初始化和设置</li>
<li>总结：继承应该是继承方法而不是属性，为子类设置父类实例属性应该是通过在子类构造函数中调用父类构造函数进行初始化</li>
</ol>
<p>方法2：</p>
<ol>
<li>优点：正确设置原型链实现继承</li>
<li>缺点：父类构造函数原型与子类相同。修改子类原型添加方法会修改父类</li>
</ol>
<p>方法3：</p>
<ol>
<li>优点：正确设置原型链且避免方法1.2中的缺点</li>
<li>缺点：ES5方法需要注意兼容性</li>
</ol>
<p>改进：</p>
<ol>
<li>所有三种方法应该在子类构造函数中调用父类构造函数实现实例属性初始化</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">function Rect() &#123;</div><div class="line">    Shape.call(this);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ol>
<li>用新创建的对象替代子类默认原型，设置<code>Rect.prototype.constructor = Rect;</code>保证一致性</li>
<li>第三种方法的polyfill：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function create(obj) &#123;</div><div class="line">    if (Object.create) &#123;</div><div class="line">        return Object.create(obj);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    function f() &#123;&#125;;</div><div class="line">    f.prototype = obj;</div><div class="line">    return new f();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="javascript编程部分"><a href="#javascript编程部分" class="headerlink" title="$javascript编程部分"></a>$javascript编程部分</h2><h3 id="请用原生js实现一个函数-给页面制定的任意一个元素添加一个透明遮罩-透明度可变-默认0-2-使这个区域点击无效-要求兼容IE8-及各主流浏览器-遮罩层效果如下图所示"><a href="#请用原生js实现一个函数-给页面制定的任意一个元素添加一个透明遮罩-透明度可变-默认0-2-使这个区域点击无效-要求兼容IE8-及各主流浏览器-遮罩层效果如下图所示" class="headerlink" title="请用原生js实现一个函数,给页面制定的任意一个元素添加一个透明遮罩(透明度可变,默认0.2),使这个区域点击无效,要求兼容IE8+及各主流浏览器,遮罩层效果如下图所示:"></a>请用原生js实现一个函数,给页面制定的任意一个元素添加一个透明遮罩(透明度可变,默认0.2),使这个区域点击无效,要求兼容IE8+及各主流浏览器,遮罩层效果如下图所示:</h3><p><img src="img/element-mask.jpg" alt="遮罩效果"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">&lt;style&gt;</div><div class="line">#target &#123;</div><div class="line">    width: 200px;</div><div class="line">    height: 300px;</div><div class="line">    margin: 40px;</div><div class="line">    background-color: tomato;</div><div class="line">&#125;</div><div class="line">&lt;/style&gt;</div><div class="line"></div><div class="line">&lt;div id=&quot;target&quot;&gt;&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">function addMask(elem, opacity) &#123;</div><div class="line">    opacity = opacity || 0.2;</div><div class="line"></div><div class="line">    var rect = elem.getBoundingClientRect();</div><div class="line">    var style = getComputedStyle(elem, null);</div><div class="line"></div><div class="line">    var mask = document.createElement(&apos;div&apos;);</div><div class="line">    mask.style.position = &apos;absolute&apos;;</div><div class="line">    var marginLeft = parseFloat(style.marginLeft);</div><div class="line">    mask.style.left = (elem.offsetLeft - marginLeft) + &apos;px&apos;;</div><div class="line">    var marginTop = parseFloat(style.marginTop);</div><div class="line">    mask.style.top = (elem.offsetTop - marginTop) + &apos;px&apos;;</div><div class="line">    mask.style.zIndex = 9999;</div><div class="line">    mask.style.opacity = &apos;&apos; + opacity;</div><div class="line">    mask.style.backgroundColor = &apos;#000&apos;;</div><div class="line"></div><div class="line">    mask.style.width = (parseFloat(style.marginLeft) +</div><div class="line">        parseFloat(style.marginRight) + rect.width) + &apos;px&apos;;</div><div class="line">    mask.style.height = (parseFloat(style.marginTop) +</div><div class="line">        parseFloat(style.marginBottom) + rect.height) + &apos;px&apos;;</div><div class="line"></div><div class="line">    elem.parentNode.appendChild(mask);</div><div class="line">&#125;</div><div class="line"></div><div class="line">var target = document.getElementById(&apos;target&apos;);</div><div class="line">addMask(target);</div><div class="line"></div><div class="line">target.addEventListener(&apos;click&apos;, function () &#123;</div><div class="line">    console.log(&apos;click&apos;);</div><div class="line">&#125;, false);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="请用代码写出-今天是星期x-其中x表示当天是星期几-如果当天是星期一-输出应该是”今天是星期一”"><a href="#请用代码写出-今天是星期x-其中x表示当天是星期几-如果当天是星期一-输出应该是”今天是星期一”" class="headerlink" title="请用代码写出(今天是星期x)其中x表示当天是星期几,如果当天是星期一,输出应该是”今天是星期一”"></a>请用代码写出(今天是星期x)其中x表示当天是星期几,如果当天是星期一,输出应该是”今天是星期一”</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var days = [&apos;日&apos;,&apos;一&apos;,&apos;二&apos;,&apos;三&apos;,&apos;四&apos;,&apos;五&apos;,&apos;六&apos;];</div><div class="line">var date = new Date();</div><div class="line"></div><div class="line">console.log(&apos;今天是星期&apos; + days[date.getDay()]);</div></pre></td></tr></table></figure>
<h3 id="下面这段代码想要循环延时输出结果0-1-2-3-4-请问输出结果是否正确-如果不正确-请说明为什么-并修改循环内的代码使其输出正确结果"><a href="#下面这段代码想要循环延时输出结果0-1-2-3-4-请问输出结果是否正确-如果不正确-请说明为什么-并修改循环内的代码使其输出正确结果" class="headerlink" title="下面这段代码想要循环延时输出结果0 1 2 3 4,请问输出结果是否正确,如果不正确,请说明为什么,并修改循环内的代码使其输出正确结果"></a>下面这段代码想要循环延时输出结果0 1 2 3 4,请问输出结果是否正确,如果不正确,请说明为什么,并修改循环内的代码使其输出正确结果</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">for (var i = 0; i &lt; 5; ++i) &#123;</div><div class="line">  setTimeout(function () &#123;</div><div class="line">    console.log(i + &apos; &apos;);</div><div class="line">  &#125;, 100);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>不能输出正确结果，因为循环中setTimeout接受的参数函数通过闭包访问变量i。javascript运行环境为单线程，setTimeout注册的函数需要等待线程空闲才能执行，此时for循环已经结束，i值为5.五个定时输出都是5<br>修改方法：将setTimeout放在函数立即调用表达式中，将i值作为参数传递给包裹函数，创建新闭包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">for (var i = 0; i &lt; 5; ++i) &#123;</div><div class="line">  (function (i) &#123;</div><div class="line">    setTimeout(function () &#123;</div><div class="line">      console.log(i + &apos; &apos;);</div><div class="line">    &#125;, 100);</div><div class="line">  &#125;(i));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="现有一个Page类-其原型对象上有许多以post开头的方法-如postMsg-另有一拦截函数chekc-只返回ture或false-请设计一个函数-该函数应批量改造原Page的postXXX方法-在保留其原有功能的同时-为每个postXXX方法增加拦截验证功能-当chekc返回true时继续执行原postXXX方法-返回false时不再执行原postXXX方法"><a href="#现有一个Page类-其原型对象上有许多以post开头的方法-如postMsg-另有一拦截函数chekc-只返回ture或false-请设计一个函数-该函数应批量改造原Page的postXXX方法-在保留其原有功能的同时-为每个postXXX方法增加拦截验证功能-当chekc返回true时继续执行原postXXX方法-返回false时不再执行原postXXX方法" class="headerlink" title="现有一个Page类,其原型对象上有许多以post开头的方法(如postMsg);另有一拦截函数chekc,只返回ture或false.请设计一个函数,该函数应批量改造原Page的postXXX方法,在保留其原有功能的同时,为每个postXXX方法增加拦截验证功能,当chekc返回true时继续执行原postXXX方法,返回false时不再执行原postXXX方法"></a>现有一个Page类,其原型对象上有许多以post开头的方法(如postMsg);另有一拦截函数chekc,只返回ture或false.请设计一个函数,该函数应批量改造原Page的postXXX方法,在保留其原有功能的同时,为每个postXXX方法增加拦截验证功能,当chekc返回true时继续执行原postXXX方法,返回false时不再执行原postXXX方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">function Page() &#123;&#125;</div><div class="line"></div><div class="line">Page.prototype = &#123;</div><div class="line">  constructor: Page,</div><div class="line"></div><div class="line">  postA: function (a) &#123;</div><div class="line">    console.log(&apos;a:&apos; + a);</div><div class="line">  &#125;,</div><div class="line">  postB: function (b) &#123;</div><div class="line">    console.log(&apos;b:&apos; + b);</div><div class="line">  &#125;,</div><div class="line">  postC: function (c) &#123;</div><div class="line">    console.log(&apos;c:&apos; + c);</div><div class="line">  &#125;,</div><div class="line">  check: function () &#123;</div><div class="line">    return Math.random() &gt; 0.5;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">function checkfy(obj) &#123;</div><div class="line">  for (var key in obj) &#123;</div><div class="line">    if (key.indexOf(&apos;post&apos;) === 0 &amp;&amp; typeof obj[key] === &apos;function&apos;) &#123;</div><div class="line">      (function (key) &#123;</div><div class="line">        var fn = obj[key];</div><div class="line">        obj[key] = function () &#123;</div><div class="line">          if (obj.check()) &#123;</div><div class="line">            fn.apply(obj, arguments);</div><div class="line">          &#125;</div><div class="line">        &#125;;</div><div class="line">      &#125;(key));</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125; // end checkfy()</div><div class="line"></div><div class="line">checkfy(Page.prototype);</div><div class="line"></div><div class="line">var obj = new Page();</div><div class="line"></div><div class="line">obj.postA(&apos;checkfy&apos;);</div><div class="line">obj.postB(&apos;checkfy&apos;);</div><div class="line">obj.postC(&apos;checkfy&apos;);</div></pre></td></tr></table></figure>
<h3 id="完成下面的tool-tip"><a href="#完成下面的tool-tip" class="headerlink" title="完成下面的tool-tip"></a>完成下面的tool-tip</h3><p><img src="img/tip-box.jpg" alt="xxx"></p>
<h3 id="编写javascript深度克隆函数deepClone"><a href="#编写javascript深度克隆函数deepClone" class="headerlink" title="编写javascript深度克隆函数deepClone"></a>编写javascript深度克隆函数deepClone</h3><pre><code>function deepClone(obj) {
    var _toString = Object.prototype.toString;

    // null, undefined, non-object, function
    if (!obj || typeof obj !== &apos;object&apos;) {
        return obj;
    }

    // DOM Node
    if (obj.nodeType &amp;&amp; &apos;cloneNode&apos; in obj) {
        return obj.cloneNode(true);
    }

    // Date
    if (_toString.call(obj) === &apos;[object Date]&apos;) {
        return new Date(obj.getTime());
    }

    // RegExp
    if (_toString.call(obj) === &apos;[object RegExp]&apos;) {
        var flags = [];
        if (obj.global) { flags.push(&apos;g&apos;); }
        if (obj.multiline) { flags.push(&apos;m&apos;); }
        if (obj.ignoreCase) { flags.push(&apos;i&apos;); }

        return new RegExp(obj.source, flags.join(&apos;&apos;));
    }

    var result = Array.isArray(obj) ? [] :
        obj.constructor ? new obj.constructor() : {};

    for (var key in obj ) {
        result[key] = deepClone(obj[key]);
    }

    return result;
}

function A() {
    this.a = a;
}

var a = {
    name: &apos;qiu&apos;,
    birth: new Date(),
    pattern: /qiu/gim,
    container: document.body,
    hobbys: [&apos;book&apos;, new Date(), /aaa/gim, 111]
};

var c = new A();
var b = deepClone(c);
console.log(c.a === b.a);
console.log(c, b);
</code></pre><h3 id="补充代码-鼠标单击Button1后将Button1移动到Button2的后面"><a href="#补充代码-鼠标单击Button1后将Button1移动到Button2的后面" class="headerlink" title="补充代码,鼠标单击Button1后将Button1移动到Button2的后面"></a>补充代码,鼠标单击Button1后将Button1移动到Button2的后面</h3><pre><code>&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;TEst&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div&gt;
   &lt;input type=&quot;button&quot; id =&quot;button1&quot; value=&quot;1&quot; /&gt;
   &lt;input type=&quot;button&quot; id =&quot;button2&quot; value=&quot;2&quot; /&gt;
&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
    var btn1 = document.getElementById(&apos;button1&apos;);
    var btn2 = document.getElementById(&apos;button2&apos;);

    addListener(btn1, &apos;click&apos;, function (event) {
        btn1.parentNode.insertBefore(btn2, btn1);
    });

    function addListener(elem, type, handler) {
        if (elem.addEventListener) {
            elem.addEventListener(type, handler, false);
            return handler;
        } else if (elem.attachEvent) {
            function wrapper() {
                var event = window.event;
                event.target = event.srcElement;
                handler.call(elem, event);
            }
            elem.attachEvent(&apos;on&apos; + type, wrapper);
            return wrapper;
        }
    }

&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h3 id="网页中实现一个计算当年还剩多少时间的倒数计时程序-要求网页上实时动态显示”××年还剩××天××时××分××秒”"><a href="#网页中实现一个计算当年还剩多少时间的倒数计时程序-要求网页上实时动态显示”××年还剩××天××时××分××秒”" class="headerlink" title="网页中实现一个计算当年还剩多少时间的倒数计时程序,要求网页上实时动态显示”××年还剩××天××时××分××秒”"></a>网页中实现一个计算当年还剩多少时间的倒数计时程序,要求网页上实时动态显示”××年还剩××天××时××分××秒”</h3><pre><code>&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;TEst&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

    &lt;span id=&quot;target&quot;&gt;&lt;/span&gt;


&lt;script type=&quot;text/javascript&quot;&gt;
    // 为了简化。每月默认30天
    function getTimeString() {
        var start = new Date();
        var end = new Date(start.getFullYear() + 1, 0, 1);
        var elapse = Math.floor((end - start) / 1000);

        var seconds = elapse % 60 ;
        var minutes = Math.floor(elapse / 60) % 60;
        var hours = Math.floor(elapse / (60 * 60)) % 24;
        var days = Math.floor(elapse / (60 * 60 * 24)) % 30;
        var months = Math.floor(elapse / (60 * 60 * 24 * 30)) % 12;
        var years = Math.floor(elapse / (60 * 60 * 24 * 30 * 12));

        return start.getFullYear() + &apos;年还剩&apos; + years + &apos;年&apos; + months + &apos;月&apos; + days + &apos;日&apos;
            + hours + &apos;小时&apos; + minutes + &apos;分&apos; + seconds + &apos;秒&apos;;
    }

    function domText(elem, text) {
        if (text == undefined) {

            if (elem.textContent) {
                return elem.textContent;
            } else if (elem.innerText) {
                return elem.innerText;
            }
        } else {
            if (elem.textContent) {
                elem.textContent = text;
            } else if (elem.innerText) {
                elem.innerText = text;
            } else {
                elem.innerHTML = text;
            }
        }
    }

    var target = document.getElementById(&apos;target&apos;);

    setInterval(function () {
        domText(target, getTimeString());
    }, 1000)
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre><h3 id="完成一个函数-接受数组作为参数-数组元素为整数或者数组-数组元素包含整数或数组-函数返回扁平化后的数组"><a href="#完成一个函数-接受数组作为参数-数组元素为整数或者数组-数组元素包含整数或数组-函数返回扁平化后的数组" class="headerlink" title="完成一个函数,接受数组作为参数,数组元素为整数或者数组,数组元素包含整数或数组,函数返回扁平化后的数组"></a>完成一个函数,接受数组作为参数,数组元素为整数或者数组,数组元素包含整数或数组,函数返回扁平化后的数组</h3><p>如：[1, [2, [ [3, 4], 5], 6]] =&gt; [1, 2, 3, 4, 5, 6]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">var data =  [1, [2, [ [3, 4], 5], 6]];</div><div class="line"></div><div class="line">function flat(data, result) &#123;</div><div class="line">    var i, d, len;</div><div class="line">    for (i = 0, len = data.length; i &lt; len; ++i) &#123;</div><div class="line">        d = data[i];</div><div class="line">        if (typeof d === &apos;number&apos;) &#123;</div><div class="line">            result.push(d);</div><div class="line">        &#125; else &#123;</div><div class="line">            flat(d, result);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">var result = [];</div><div class="line">flat(data, result);</div><div class="line"></div><div class="line">console.log(result);</div></pre></td></tr></table></figure>
<h3 id="如何判断一个对象是否为数组"><a href="#如何判断一个对象是否为数组" class="headerlink" title="如何判断一个对象是否为数组"></a>如何判断一个对象是否为数组</h3><p>如果浏览器支持Array.isArray()可以直接判断否则需进行必要判断</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 判断一个对象是否是数组，参数不是对象或者不是数组，返回false</div><div class="line"> *</div><div class="line"> * @param &#123;Object&#125; arg 需要测试是否为数组的对象</div><div class="line"> * @return &#123;Boolean&#125; 传入参数是数组返回true，否则返回false</div><div class="line"> */</div><div class="line">function isArray(arg) &#123;</div><div class="line">    if (typeof arg === &apos;object&apos;) &#123;</div><div class="line">        return Object.prototype.toString.call(arg) === &apos;[object Array]&apos;;</div><div class="line">    &#125;</div><div class="line">    return false;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="请评价以下事件监听器代码并给出改进意见"><a href="#请评价以下事件监听器代码并给出改进意见" class="headerlink" title="请评价以下事件监听器代码并给出改进意见"></a>请评价以下事件监听器代码并给出改进意见</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">if (window.addEventListener) &#123;</div><div class="line">  var addListener = function (el, type, listener, useCapture) &#123;</div><div class="line">    el.addEventListener(type, listener, useCapture);</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line">else if (document.all) &#123;</div><div class="line">  addListener = function (el, type, listener) &#123;</div><div class="line">    el.attachEvent(&apos;on&apos; + type, function () &#123;</div><div class="line">      listener.apply(el);</div><div class="line">    &#125;);</div><div class="line">  &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>作用：浏览器功能检测实现跨浏览器DOM事件绑定</p>
<p>优点：</p>
<ol>
<li>测试代码只运行一次，根据浏览器确定绑定方法</li>
<li>通过<code>listener.apply(el)</code>解决IE下监听器this与标准不一致的地方</li>
<li>在浏览器不支持的情况下提供简单的功能，在标准浏览器中提供捕获功能</li>
</ol>
<p>缺点：</p>
<ol>
<li>document.all作为IE检测不可靠，应该使用if(el.attachEvent)</li>
<li>addListener在不同浏览器下API不一样</li>
<li><code>listener.apply</code>使this与标准一致但监听器无法移除</li>
<li>未解决IE下listener参数event。 target问题</li>
</ol>
<p>改进:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">var addListener;</div><div class="line"></div><div class="line">if (window.addEventListener) &#123;</div><div class="line">  addListener = function (el, type, listener, useCapture) &#123;</div><div class="line">    el.addEventListener(type, listener, useCapture);</div><div class="line">    return listener;</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line">else if (window.attachEvent) &#123;</div><div class="line">  addListener = function (el, type, listener) &#123;</div><div class="line">    // 标准化this，event，target</div><div class="line">    var wrapper = function () &#123;</div><div class="line">      var event = window.event;</div><div class="line">      event.target = event.srcElement;</div><div class="line">      listener.call(el, event);</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    el.attachEvent(&apos;on&apos; + type, wrapper);</div><div class="line">    return wrapper;</div><div class="line">    // 返回wrapper。调用者可以保存，以后remove</div><div class="line">  &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="如何判断一个对象是否为函数"><a href="#如何判断一个对象是否为函数" class="headerlink" title="如何判断一个对象是否为函数"></a>如何判断一个对象是否为函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 判断对象是否为函数，如果当前运行环境对可调用对象（如正则表达式）</div><div class="line"> * 的typeof返回&apos;function&apos;，采用通用方法，否则采用优化方法</div><div class="line"> *</div><div class="line"> * @param &#123;Any&#125; arg 需要检测是否为函数的对象</div><div class="line"> * @return &#123;boolean&#125; 如果参数是函数，返回true，否则false</div><div class="line"> */</div><div class="line">function isFunction(arg) &#123;</div><div class="line">    if (arg) &#123;</div><div class="line">        if (typeof (/./) !== &apos;function&apos;) &#123;</div><div class="line">            return typeof arg === &apos;function&apos;;</div><div class="line">        &#125; else &#123;</div><div class="line">            return Object.prototype.toString.call(arg) === &apos;[object Function]&apos;;</div><div class="line">        &#125;</div><div class="line">    &#125; // end if</div><div class="line">    return false;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="编写一个函数接受url中query-string为参数-返回解析后的Object-query-string使用application-x-www-form-urlencoded编码"><a href="#编写一个函数接受url中query-string为参数-返回解析后的Object-query-string使用application-x-www-form-urlencoded编码" class="headerlink" title="编写一个函数接受url中query string为参数,返回解析后的Object,query string使用application/x-www-form-urlencoded编码"></a>编写一个函数接受url中query string为参数,返回解析后的Object,query string使用application/x-www-form-urlencoded编码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 解析query string转换为对象，一个key有多个值时生成数组</div><div class="line"> *</div><div class="line"> * @param &#123;String&#125; query 需要解析的query字符串，开头可以是?，</div><div class="line"> * 按照application/x-www-form-urlencoded编码</div><div class="line"> * @return &#123;Object&#125; 参数解析后的对象</div><div class="line"> */</div><div class="line">function parseQuery(query) &#123;</div><div class="line">    var result = &#123;&#125;;</div><div class="line"></div><div class="line">    // 如果不是字符串返回空对象</div><div class="line">    if (typeof query !== &apos;string&apos;) &#123;</div><div class="line">        return result;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    // 去掉字符串开头可能带的?</div><div class="line">    if (query.charAt(0) === &apos;?&apos;) &#123;</div><div class="line">        query = query.substring(1);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    var pairs = query.split(&apos;&amp;&apos;);</div><div class="line">    var pair;</div><div class="line">    var key, value;</div><div class="line">    var i, len;</div><div class="line"></div><div class="line">    for (i = 0, len = pairs.length; i &lt; len; ++i) &#123;</div><div class="line">        pair = pairs[i].split(&apos;=&apos;);</div><div class="line">        // application/x-www-form-urlencoded编码会将&apos; &apos;转换为+</div><div class="line">        key = decodeURIComponent(pair[0]).replace(/\+/g, &apos; &apos;);</div><div class="line">        value = decodeURIComponent(pair[1]).replace(/\+/g, &apos; &apos;);</div><div class="line"></div><div class="line">        // 如果是新key，直接添加</div><div class="line">        if (!(key in result)) &#123;</div><div class="line">            result[key] = value;</div><div class="line">        &#125;</div><div class="line">        // 如果key已经出现一次以上，直接向数组添加value</div><div class="line">        else if (isArray(result[key])) &#123;</div><div class="line">            result[key].push(value);</div><div class="line">        &#125;</div><div class="line">        // key第二次出现，将结果改为数组</div><div class="line">        else &#123;</div><div class="line">            var arr = [result[key]];</div><div class="line">            arr.push(value);</div><div class="line">            result[key] = arr;</div><div class="line">        &#125; // end if-else</div><div class="line">    &#125; // end for</div><div class="line"></div><div class="line">    return result;</div><div class="line">&#125;</div><div class="line"></div><div class="line">function isArray(arg) &#123;</div><div class="line">    if (arg &amp;&amp; typeof arg === &apos;object&apos;) &#123;</div><div class="line">        return Object.prototype.toString.call(arg) === &apos;[object Array]&apos;;</div><div class="line">    &#125;</div><div class="line">    return false;</div><div class="line">&#125;</div><div class="line">/**</div><div class="line">console.log(parseQuery(&apos;sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8&apos;));</div><div class="line"> */</div></pre></td></tr></table></figure>
<h3 id="解析一个完整的url-返回Object包含域与window-location相同"><a href="#解析一个完整的url-返回Object包含域与window-location相同" class="headerlink" title="解析一个完整的url,返回Object包含域与window.location相同"></a>解析一个完整的url,返回Object包含域与window.location相同</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 解析一个url并生成window.location对象中包含的域</div><div class="line"> * location:</div><div class="line"> * &#123;</div><div class="line"> *      href: &apos;包含完整的url&apos;,</div><div class="line"> *      origin: &apos;包含协议到pathname之前的内容&apos;,</div><div class="line"> *      protocol: &apos;url使用的协议，包含末尾的:&apos;,</div><div class="line"> *      username: &apos;用户名&apos;, // 暂时不支持</div><div class="line"> *      password: &apos;密码&apos;,  // 暂时不支持</div><div class="line"> *      host: &apos;完整主机名，包含:和端口&apos;,</div><div class="line"> *      hostname: &apos;主机名，不包含端口&apos;</div><div class="line"> *      port: &apos;端口号&apos;,</div><div class="line"> *      pathname: &apos;服务器上访问资源的路径/开头&apos;,</div><div class="line"> *      search: &apos;query string，?开头&apos;,</div><div class="line"> *      hash: &apos;#开头的fragment identifier&apos;</div><div class="line"> * &#125;</div><div class="line"> *</div><div class="line"> * @param &#123;string&#125; url 需要解析的url</div><div class="line"> * @return &#123;Object&#125; 包含url信息的对象</div><div class="line"> */</div><div class="line">function parseUrl(url) &#123;</div><div class="line">    var result = &#123;&#125;;</div><div class="line">    var keys = [&apos;href&apos;, &apos;origin&apos;, &apos;protocol&apos;, &apos;host&apos;,</div><div class="line">                &apos;hostname&apos;, &apos;port&apos;, &apos;pathname&apos;, &apos;search&apos;, &apos;hash&apos;];</div><div class="line">    var i, len;</div><div class="line">    var regexp = /(([^:]+:)\/\/(([^:\/\?#]+)(:\d+)?))(\/[^?#]*)?(\?[^#]*)?(#.*)?/;</div><div class="line"></div><div class="line">    var match = regexp.exec(url);</div><div class="line"></div><div class="line">    if (match) &#123;</div><div class="line">        for (i = keys.length - 1; i &gt;= 0; --i) &#123;</div><div class="line">            result[keys[i]] = match[i] ? match[i] : &apos;&apos;;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    return result;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="完成函数getViewportSize返回指定窗口的视口尺寸"><a href="#完成函数getViewportSize返回指定窗口的视口尺寸" class="headerlink" title="完成函数getViewportSize返回指定窗口的视口尺寸"></a>完成函数getViewportSize返回指定窗口的视口尺寸</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">* 查询指定窗口的视口尺寸，如果不指定窗口，查询当前窗口尺寸</div><div class="line">**/</div><div class="line">function getViewportSize(w) &#123;</div><div class="line">    w = w || window;</div><div class="line"></div><div class="line">    // IE9及标准浏览器中可使用此标准方法</div><div class="line">    if (&apos;innerHeight&apos; in w) &#123;</div><div class="line">        return &#123;</div><div class="line">            width: w.innerWidth,</div><div class="line">            height: w.innerHeight</div><div class="line">        &#125;;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    var d = w.document;</div><div class="line">    // IE 8及以下浏览器在标准模式下</div><div class="line">    if (document.compatMode === &apos;CSS1Compat&apos;) &#123;</div><div class="line">        return &#123;</div><div class="line">            width: d.documentElement.clientWidth,</div><div class="line">            height: d.documentElement.clientHeight</div><div class="line">        &#125;;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    // IE8及以下浏览器在怪癖模式下</div><div class="line">    return &#123;</div><div class="line">        width: d.body.clientWidth,</div><div class="line">        height: d.body.clientHeight</div><div class="line">    &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="完成函数getScrollOffset返回窗口滚动条偏移量"><a href="#完成函数getScrollOffset返回窗口滚动条偏移量" class="headerlink" title="完成函数getScrollOffset返回窗口滚动条偏移量"></a>完成函数getScrollOffset返回窗口滚动条偏移量</h3><pre><code>/**
 * 获取指定window中滚动条的偏移量，如未指定则获取当前window
 * 滚动条偏移量
 *
 * @param {window} w 需要获取滚动条偏移量的窗口
 * @return {Object} obj.x为水平滚动条偏移量,obj.y为竖直滚动条偏移量
 */
function getScrollOffset(w) {
    w =  w || window;
    // 如果是标准浏览器
    if (w.pageXOffset != null) {
        return {
            x: w.pageXOffset,
            y: w.pageYOffset
        };
    }

    // 老版本IE，根据兼容性不同访问不同元素
    var d = w.document;
    if (d.compatMode === &apos;CSS1Compat&apos;) {
        return {
            x: d.documentElement.scrollLeft,
            y: d.documentElement.scrollTop
        }
    }

    return {
        x: d.body.scrollLeft,
        y: d.body.scrollTop
    };
}
</code></pre><h3 id="现有一个字符串richText-是一段富文本-需要显示在页面上-有个要求-需要给其中只包含一个img元素的p标签增加一个叫pic的class-请编写代码实现-可以使用jQuery或KISSY"><a href="#现有一个字符串richText-是一段富文本-需要显示在页面上-有个要求-需要给其中只包含一个img元素的p标签增加一个叫pic的class-请编写代码实现-可以使用jQuery或KISSY" class="headerlink" title="现有一个字符串richText,是一段富文本,需要显示在页面上.有个要求,需要给其中只包含一个img元素的p标签增加一个叫pic的class.请编写代码实现.可以使用jQuery或KISSY."></a>现有一个字符串richText,是一段富文本,需要显示在页面上.有个要求,需要给其中只包含一个img元素的p标签增加一个叫pic的class.请编写代码实现.可以使用jQuery或KISSY.</h3><pre><code>function richText(text) {
    var div = document.createElement(&apos;div&apos;);
    div.innerHTML = text;
    var p = div.getElementsByTagName(&apos;p&apos;);
    var i, len;

    for (i = 0, len = p.length; i &lt; len; ++i) {
        if (p[i].getElementsByTagName(&apos;img&apos;).length === 1) {
            p[i].classList.add(&apos;pic&apos;);
        }
    }

    return div.innerHTML;
}
</code></pre><h3 id="请实现一个Event类-继承自此类的对象都会拥有两个方法on-off-once和trigger"><a href="#请实现一个Event类-继承自此类的对象都会拥有两个方法on-off-once和trigger" class="headerlink" title="请实现一个Event类,继承自此类的对象都会拥有两个方法on,off,once和trigger"></a>请实现一个Event类,继承自此类的对象都会拥有两个方法on,off,once和trigger</h3><pre><code>function Event() {
    if (!(this instanceof Event)) {
        return new Event();
    }
    this._callbacks = {};
}
Event.prototype.on = function (type, handler) {
    this_callbacks = this._callbacks || {};
    this._callbacks[type] = this.callbacks[type] || [];
    this._callbacks[type].push(handler);

    return this;
};

Event.prototype.off = function (type, handler) {
    var list = this._callbacks[type];

    if (list) {
        for (var i = list.length; i &gt;= 0; --i) {
            if (list[i] === handler) {
                list.splice(i, 1);
            }
        }
    }

    return this;
};

Event.prototype.trigger = function (type, data) {
    var list = this._callbacks[type];

    if (list) {
        for (var i = 0, len = list.length; i &lt; len; ++i) {
            list[i].call(this, data);
        }
    }
};

Event.prototype.once = function (type, handler) {
    var self = this;

    function wrapper() {
        handler.apply(self, arguments);
        self.off(type, wrapper);
    }
    this.on(type, wrapper);
    return this;
};
</code></pre><h3 id="编写一个函数将列表子元素顺序反转"><a href="#编写一个函数将列表子元素顺序反转" class="headerlink" title="编写一个函数将列表子元素顺序反转"></a>编写一个函数将列表子元素顺序反转</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;ul id=&quot;target&quot;&gt;</div><div class="line">    &lt;li&gt;1&lt;/li&gt;</div><div class="line">    &lt;li&gt;2&lt;/li&gt;</div><div class="line">    &lt;li&gt;3&lt;/li&gt;</div><div class="line">    &lt;li&gt;4&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">    var target = document.getElementById(&apos;target&apos;);</div><div class="line">    var i;</div><div class="line">    var frag = document.createDocumentFragment();</div><div class="line"></div><div class="line">    for (i = target.children.length - 1; i &amp;gt;= 0; --i) &#123;</div><div class="line">        frag.appendChild(target.children[i]);</div><div class="line">    &#125;</div><div class="line">    target.appendChild(frag);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="以下函数的作用是-空白区域应该填写什么"><a href="#以下函数的作用是-空白区域应该填写什么" class="headerlink" title="以下函数的作用是?空白区域应该填写什么"></a>以下函数的作用是?空白区域应该填写什么</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">// define</div><div class="line">(function (window) &#123;</div><div class="line">    function fn(str) &#123;</div><div class="line">        this.str = str;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    fn.prototype.format = function () &#123;</div><div class="line">        var arg = __1__;</div><div class="line">        return this.str.replace(__2__, function (a, b) &#123;</div><div class="line">            return arg[b] || &apos;&apos;;</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    window.fn = fn;</div><div class="line">&#125;)(window);</div><div class="line"></div><div class="line">// use</div><div class="line">(function () &#123;</div><div class="line">    var t = new fn(&apos;&lt;p&gt;&lt;a href=&quot;&#123;0&#125;&quot;&gt;&#123;1&#125;&lt;/a&gt;&lt;span&gt;&#123;2&#125;&lt;/span&gt;&lt;/p&gt;&apos;);</div><div class="line">    console.log(t.format(&apos;http://www.alibaba.com&apos;, &apos;Alibaba&apos;, &apos;Welcome&apos;));</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<p>define部分定义一个简单的模板类，使用{}作为转义标记，中间的数字表示替换目标，format实参用来替换模板内标记<br>横线处填：</p>
<ol>
<li><code>Array.prototype.slice.call(arguments, 0)</code></li>
<li><code>/\{\s*(\d+)\s*\}/g</code></li>
</ol>
<h3 id="编写一个函数实现form的序列化-即将一个表单中的键值序列化为可提交的字符串"><a href="#编写一个函数实现form的序列化-即将一个表单中的键值序列化为可提交的字符串" class="headerlink" title="编写一个函数实现form的序列化(即将一个表单中的键值序列化为可提交的字符串)"></a>编写一个函数实现form的序列化(即将一个表单中的键值序列化为可提交的字符串)</h3><pre><code>&lt;form id=&quot;target&quot;&gt;
    &lt;select name=&quot;age&quot;&gt;
        &lt;option value=&quot;aaa&quot;&gt;aaa&lt;/option&gt;
        &lt;option value=&quot;bbb&quot; selected&gt;bbb&lt;/option&gt;
    &lt;/select&gt;
    &lt;select name=&quot;friends&quot; multiple&gt;
        &lt;option value=&quot;qiu&quot; selected&gt;qiu&lt;/option&gt;
        &lt;option value=&quot;de&quot;&gt;de&lt;/option&gt;
        &lt;option value=&quot;qing&quot; selected&gt;qing&lt;/option&gt;
    &lt;/select&gt;
    &lt;input name=&quot;name&quot; value=&quot;qiudeqing&quot;&gt;
    &lt;input type=&quot;password&quot; name=&quot;password&quot; value=&quot;11111&quot;&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;salery&quot; value=&quot;3333&quot;&gt;
    &lt;textarea name=&quot;description&quot;&gt;description&lt;/textarea&gt;
    &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; checked value=&quot;football&quot;&gt;Football
    &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;basketball&quot;&gt;Basketball
    &lt;input type=&quot;radio&quot; name=&quot;sex&quot; checked value=&quot;Female&quot;&gt;Female
    &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;Male&quot;&gt;Male
&lt;/form&gt;


&lt;script&gt;

/**
 * 将一个表单元素序列化为可提交的字符串
 *
 * @param {FormElement} form 需要序列化的表单元素
 * @return {string} 表单序列化后的字符串
 */
function serializeForm(form) {
  if (!form || form.nodeName.toUpperCase() !== &apos;FORM&apos;) {
    return;
  }

  var result = [];

  var i, len;
  var field, fieldName, fieldType;

  for (i = 0, len = form.length; i &lt; len; ++i) {
    field = form.elements[i];
    fieldName = field.name;
    fieldType = field.type;

    if (field.disabled || !fieldName) {
      continue;
    } // enf if

    switch (fieldType) {
      case &apos;text&apos;:
      case &apos;password&apos;:
      case &apos;hidden&apos;:
      case &apos;textarea&apos;:
        result.push(encodeURIComponent(fieldName) + &apos;=&apos; +
            encodeURIComponent(field.value));
        break;

      case &apos;radio&apos;:
      case &apos;checkbox&apos;:
        if (field.checked) {
          result.push(encodeURIComponent(fieldName) + &apos;=&apos; +
            encodeURIComponent(field.value));
        }
        break;

      case &apos;select-one&apos;:
      case &apos;select-multiple&apos;:
        for (var j = 0, jLen = field.options.length; j &lt; jLen; ++j) {
          if (field.options[j].selected) {
            result.push(encodeURIComponent(fieldName) + &apos;=&apos; +
              encodeURIComponent(field.options[j].value || field.options[j].text));
          }
        } // end for
        break;

      case &apos;file&apos;:
      case &apos;submit&apos;:
        break; // 是否处理？

      default:
        break;
    } // end switch
  } // end for

    return result.join(&apos;&amp;&apos;);
}

var form = document.getElementById(&apos;target&apos;);
console.log(serializeForm(form));
&lt;/script&gt;
</code></pre><h3 id="使用原生javascript给下面列表中的li节点绑定点击事件-点击时创建一个Object对象-兼容IE和标准浏览器"><a href="#使用原生javascript给下面列表中的li节点绑定点击事件-点击时创建一个Object对象-兼容IE和标准浏览器" class="headerlink" title="使用原生javascript给下面列表中的li节点绑定点击事件,点击时创建一个Object对象,兼容IE和标准浏览器"></a>使用原生javascript给下面列表中的li节点绑定点击事件,点击时创建一个Object对象,兼容IE和标准浏览器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;ul id=&quot;nav&quot;&gt;</div><div class="line">    &lt;li&gt;&lt;a href=&quot;http://11111&quot;&gt;111&lt;/a&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;a href=&quot;http://2222&quot;&gt;222&lt;/a&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;a href=&quot;http://333&quot;&gt;333&lt;/a&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;a href=&quot;http://444&quot;&gt;444&lt;/a&gt;&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line"></div><div class="line">Object:</div><div class="line">&#123;</div><div class="line">    &quot;index&quot;: 1,</div><div class="line">    &quot;name&quot;: &quot;111&quot;,</div><div class="line">    &quot;link&quot;: &quot;http://1111&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>script:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div></pre></td><td class="code"><pre><div class="line">var EventUtil = &#123;</div><div class="line">    getEvent: function (event) &#123;</div><div class="line">        return event || window.event;</div><div class="line">    &#125;,</div><div class="line">    getTarget: function (event) &#123;</div><div class="line">        return event.target || event.srcElement;</div><div class="line">    &#125;,</div><div class="line">    // 返回注册成功的监听器，IE中需要使用返回值来移除监听器</div><div class="line">    on: function (elem, type, handler) &#123;</div><div class="line">        if (elem.addEventListener) &#123;</div><div class="line">            elem.addEventListener(type, handler, false);</div><div class="line">            return handler;</div><div class="line">        &#125; else if (elem.attachEvent) &#123;</div><div class="line">            function wrapper(event) &#123;</div><div class="line">                return handler.call(elem, event);</div><div class="line">            &#125;;</div><div class="line">            elem.attachEvent(&apos;on&apos; + type, wrapper);</div><div class="line">            return wrapper;</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    off: function (elem, type, handler) &#123;</div><div class="line">        if (elem.removeEventListener) &#123;</div><div class="line">            elem.removeEventListener(type, handler, false);</div><div class="line">        &#125; else if (elem.detachEvent) &#123;</div><div class="line">            elem.detachEvent(&apos;on&apos; + type, handler);</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    preventDefault: function (event) &#123;</div><div class="line">        if (event.preventDefault) &#123;</div><div class="line">            event.preventDefault();</div><div class="line">        &#125; else if (&apos;returnValue&apos; in event) &#123;</div><div class="line">            event.returnValue = false;</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    stopPropagation: function (event) &#123;</div><div class="line">        if (event.stopPropagation) &#123;</div><div class="line">            event.stopPropagation();</div><div class="line">        &#125; else if (&apos;cancelBubble&apos; in event) &#123;</div><div class="line">            event.cancelBubble = true;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">var DOMUtil = &#123;</div><div class="line">    text: function (elem) &#123;</div><div class="line">        if (&apos;textContent&apos; in elem) &#123;</div><div class="line">            return elem.textContent;</div><div class="line">        &#125; else if (&apos;innerText&apos; in elem) &#123;</div><div class="line">            return elem.innerText;</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    prop: function (elem, propName) &#123;</div><div class="line">        return elem.getAttribute(propName);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">var nav = document.getElementById(&apos;nav&apos;);</div><div class="line"></div><div class="line">EventUtil.on(nav, &apos;click&apos;, function (event) &#123;</div><div class="line">    var event = EventUtil.getEvent(event);</div><div class="line">    var target = EventUtil.getTarget(event);</div><div class="line"></div><div class="line">    var children = this.children;</div><div class="line">    var i, len;</div><div class="line">    var anchor;</div><div class="line">    var obj = &#123;&#125;;</div><div class="line"></div><div class="line">    for (i = 0, len = children.length; i &lt; len; ++i) &#123;</div><div class="line">        if (children[i] === target) &#123;</div><div class="line">            obj.index = i + 1;</div><div class="line">            anchor = target.getElementsByTagName(&apos;a&apos;)[0];</div><div class="line">            obj.name = DOMUtil.text(anchor);</div><div class="line">            obj.link = DOMUtil.prop(anchor, &apos;href&apos;);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    alert(&apos;index: &apos; + obj.index + &apos; name: &apos; + obj.name +</div><div class="line">        &apos; link: &apos; + obj.link);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="有一个大数组-var-a-‘1’-‘2’-‘3’-…-a的长度是100-内容填充随机整数的字符串-请先构造此数组a-然后设计一个算法将其内容去重"><a href="#有一个大数组-var-a-‘1’-‘2’-‘3’-…-a的长度是100-内容填充随机整数的字符串-请先构造此数组a-然后设计一个算法将其内容去重" class="headerlink" title="有一个大数组,var a = [‘1’, ‘2’, ‘3’, …];a的长度是100,内容填充随机整数的字符串.请先构造此数组a,然后设计一个算法将其内容去重"></a>有一个大数组,var a = [‘1’, ‘2’, ‘3’, …];a的长度是100,内容填充随机整数的字符串.请先构造此数组a,然后设计一个算法将其内容去重</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">* 数组去重</div><div class="line">**/</div><div class="line">function normalize(arr) &#123;</div><div class="line">    if (arr &amp;&amp; Array.isArray(arr)) &#123;</div><div class="line">        var i, len, map = &#123;&#125;;</div><div class="line">        for (i = arr.length; i &gt;= 0; --i) &#123;</div><div class="line">            if (arr[i] in map) &#123;</div><div class="line">                arr.splice(i, 1);</div><div class="line">            &#125; else &#123;</div><div class="line">                map[arr[i]] = true;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return arr;</div><div class="line">&#125;</div><div class="line"></div><div class="line">/**</div><div class="line">* 用100个随机整数对应的字符串填充数组。</div><div class="line">**/</div><div class="line">function fillArray(arr, start, end) &#123;</div><div class="line">    start = start == undefined ? 1 : start;</div><div class="line">    end = end == undefined ?  100 : end;</div><div class="line"></div><div class="line">    if (end &lt;= start) &#123;</div><div class="line">        end = start + 100;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    var width = end - start;</div><div class="line">    var i;</div><div class="line">    for (i = 100; i &gt;= 1; --i) &#123;</div><div class="line">        arr.push(&apos;&apos; + (Math.floor(Math.random() * width) + start));</div><div class="line">    &#125;</div><div class="line">    return arr;</div><div class="line">&#125;</div><div class="line"></div><div class="line">var input = [];</div><div class="line">fillArray(input, 1, 100);</div><div class="line">input.sort(function (a, b) &#123;</div><div class="line">    return a - b;</div><div class="line">&#125;);</div><div class="line">console.log(input);</div><div class="line"></div><div class="line">normalize(input);</div><div class="line">console.log(input);</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow198.github.io/2017/08/07/前端node.mongo,express笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1494089740209&di=60b506b78e806e9a6471444547c037f7&imgtype=0&src=http%3A%2F%2Fimgtu.5011.net%2Fuploads%2Fcontent%2F20170410%2F1094241491816418.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shadow's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/07/前端node.mongo,express笔记/" itemprop="url">前端node.mongo,express笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-07T22:20:07+08:00">
                2017-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="项目架构"><a href="#项目架构" class="headerlink" title="项目架构"></a>项目架构</h1><h2 id="NPM是什么"><a href="#NPM是什么" class="headerlink" title="NPM是什么"></a>NPM是什么</h2><p>NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题，常见的使用场景有以下几种：</p>
<ul>
<li>允许用户从NPM服务器下载别人编写的第三方包到本地使用。</li>
<li>允许用户从NPM服务器下载并安装别人编写的命令行程序到本地使用。</li>
<li>允许用户将自己编写的包或命令行程序上传到NPM服务器供别人使用。</li>
</ul>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><ul>
<li>npm -v   输出版本号</li>
<li>npm install express@1.6.1 -g   全局安装模块</li>
<li>npm list -g  查看安装的模块</li>
<li>npm update 更新模块</li>
<li>npm search 搜索模块</li>
<li>npm init 创建模块</li>
<li>npm adduser  注册用户</li>
<li>npm view modulename dependiese  查看依赖</li>
<li>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ npm adduser</div><div class="line">Username: mcmohd</div><div class="line">Password:</div><div class="line">Email: (this IS public) mcmohd@gmail.com</div></pre></td></tr></table></figure>
</li>
<li><p>npm publish 发布模块</p>
</li>
</ul>
<h2 id="npm-如何做包管理"><a href="#npm-如何做包管理" class="headerlink" title="npm 如何做包管理"></a>npm 如何做包管理</h2><p>require(‘moddule name’);<br>npm install -&gt; node_modules(路径映射)<br>package.json</p>
<h1 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h1><h2 id="Node是什么"><a href="#Node是什么" class="headerlink" title="Node是什么"></a>Node是什么</h2><blockquote>
<p>简单的说 Node.js 就是运行在服务端的 JavaScript。<br>Node.js 是一个基于Chrome JavaScript 运行时建立的一个平台。<br>Node.js是一个事件驱动I/O服务端JavaScript环境，基于Google的V8引擎，V8引擎执行Javascript的速度非常快，性能非常好。</p>
</blockquote>
<h2 id="Node能做什么"><a href="#Node能做什么" class="headerlink" title="Node能做什么"></a>Node能做什么</h2><p>数据异步的读写和处理</p>
<h2 id="Node如何创建HTTP服务器"><a href="#Node如何创建HTTP服务器" class="headerlink" title="Node如何创建HTTP服务器?"></a>Node如何创建HTTP服务器?</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">var http = require(&apos;http&apos;);</div><div class="line"></div><div class="line">http.createServer(function (request, response) &#123;</div><div class="line"></div><div class="line">	// 发送 HTTP 头部 </div><div class="line">	// HTTP 状态值: 200 : OK</div><div class="line">	// 内容类型: text/plain</div><div class="line">	response.writeHead(200, &#123;&apos;Content-Type&apos;: &apos;text/plain&apos;&#125;);</div><div class="line"></div><div class="line">	// 发送响应数据 &quot;Hello World&quot;</div><div class="line">	response.end(&apos;Hello World\n&apos;);</div><div class="line">&#125;).listen(8888);</div><div class="line"></div><div class="line">// 终端打印如下信息</div><div class="line">console.log(&apos;Server running at http://127.0.0.1:8888/&apos;);</div></pre></td></tr></table></figure>
<h2 id="Node和express的关系是什么"><a href="#Node和express的关系是什么" class="headerlink" title="Node和express的关系是什么?"></a>Node和express的关系是什么?</h2><p>Node是运行时（平台），Express是运行在Node平台上的Web框架    </p>
<h2 id="Node和MongoDB的关系是什么"><a href="#Node和MongoDB的关系是什么" class="headerlink" title="Node和MongoDB的关系是什么?"></a>Node和MongoDB的关系是什么?</h2><h2 id="Node除了搭建http还能做什么"><a href="#Node除了搭建http还能做什么" class="headerlink" title="Node除了搭建http还能做什么?"></a>Node除了搭建http还能做什么?</h2><pre><code>文件操作,压缩,
</code></pre><h2 id="异步是什么"><a href="#异步是什么" class="headerlink" title="异步是什么?"></a>异步是什么?</h2><p>阿里云远程密码 986801<br>root 密码 Wangys!@#</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow198.github.io/2017/08/07/zepto.js源码分析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1494089740209&di=60b506b78e806e9a6471444547c037f7&imgtype=0&src=http%3A%2F%2Fimgtu.5011.net%2Fuploads%2Fcontent%2F20170410%2F1094241491816418.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shadow's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/07/zepto.js源码分析/" itemprop="url">zepto.js源码分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-07T22:20:07+08:00">
                2017-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="总体结构"><a href="#总体结构" class="headerlink" title="总体结构"></a>总体结构</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var Zepto = (function() &#123;</div><div class="line">    return $</div><div class="line">&#125;)()</div><div class="line"></div><div class="line">window.Zepto = Zepto</div><div class="line">window.$ === undefined &amp;&amp; (window.$ = Zepto)</div></pre></td></tr></table></figure>
<p>这里是一个自执行函数的返回值赋值给了Zepto，在下面给window下面的Zepto赋值，我们就可以通过Zepto(“#id”)这样来调用，之后的也是赋值给了window下的$，这也是我们最常见的$(“#id”)</p>
<h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><p>我们已经知道总体是怎么回事，那么我们就看看自执行函数里面返回的$是什么</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ = function(selector, context)&#123;</div><div class="line">    return zepto.init(selector, context)</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>这里可以看出这个$返回了一个初始化函数，这个初始化函数主要的左右是来判断$(“”)这里面到底是什么样式，根据不同的样式来分配给不同的方法处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">zepto.init = function(selector, context) &#123;</div><div class="line">    var dom</div><div class="line">   //如果是空的话就返回，一会再看zepto.Z()这个函数，其实就是绑定了原型链。</div><div class="line">    if (!selector) return zepto.Z()</div><div class="line">    else if (typeof selector == &apos;string&apos;) &#123;</div><div class="line">     //两种情况$(&quot;&lt;p&gt;&lt;/p&gt;&quot;)和$(&quot;#id&quot;)</div><div class="line">      selector = selector.trim()</div><div class="line">      // fragmentRE = /^\s*&lt;(\w+|!)[^&gt;]*&gt;/,下面这个就是第一种创建元素的情况</div><div class="line">      //这个正则表达式的意思是开头匹配(0,)个回车空格等符号下一个字符是&lt;的之后有有&#123;1，&#125;个字母或数字,或者是!，之后有&#123;0，&#125;个&gt;结尾，这个正则只能匹配出创建元素的情况，但不足以验证其内容的正确性，之后在方法里有验证其内容的正则表达式。zepto.fragment是来验证其内容的。因为很明显&lt;2&gt;&lt;/2&gt;也符合验证</div><div class="line">      if (selector[0] == &apos;&lt;&apos; &amp;&amp; fragmentRE.test(selector))</div><div class="line">       //下面的方法是来确认表达式，在创建元素，以后再展开吧。这里RegExp.$1为第一个子匹配（表达式中括号的部分）例如&lt;p&gt;&lt;/p&gt;匹配的就是p这样在fragment中p就是最外层的dom否则默认为div</div><div class="line">        dom = zepto.fragment(selector, RegExp.$1, context), selector = null</div><div class="line"></div><div class="line">      // $(&quot;#id&quot;,&quot;li&quot;)</div><div class="line">      else if (context !== undefined) return $(context).find(selector)</div><div class="line">      // $(&quot;#id&quot;)等我们常用的就在这个方法里</div><div class="line">      else dom = zepto.qsa(document, selector)</div><div class="line">    &#125;</div><div class="line">   //最后都返回一个dom元素节点，是个数组类型的里面装有原型链方法，之后再说</div><div class="line">    如果是$(function()&#123;&#125;)这个样式的就直接调用ready</div><div class="line">    else if (isFunction(selector)) return $(document).ready(selector)</div><div class="line">    // 传入的参数本身就已经是 zepto 对象，则直接返回</div><div class="line">    else if (zepto.isZ(selector)) return selector</div><div class="line">    else &#123;</div><div class="line"></div><div class="line">      // compact函数：过滤掉为null的项</div><div class="line">      if (isArray(selector)) dom = compact(selector)</div><div class="line"></div><div class="line">      // 如果传入的是object，直接强制塞进一个数组</div><div class="line">      else if (isObject(selector)) dom = [selector], selector = null  </div><div class="line">      // fragmentRE = /^\s*&lt;(\w+|!)[^&gt;]*&gt;/ 还是取出第一个标签跟上面的差不多</div><div class="line">      else if (fragmentRE.test(selector))</div><div class="line">        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null </div><div class="line">      else if (context !== undefined) return $(context).find(selector)</div><div class="line">      else dom = zepto.qsa(document, selector)</div><div class="line">    &#125;</div><div class="line">    return zepto.Z(dom, selector)</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p><strong>最后调用的是zepto.z(dom, selector)该方法是通过选择器表达式查找DOM</strong></p>
<p>zepto.Z.prototype 继承所有$.fn所有原型方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">zepto.Z.prototype = Z.prototype = $.fn</div></pre></td></tr></table></figure>
<p>在fn对象里面创建常用的方法</p>
<p>下面是一些用到的知识点</p>
<h2 id="matchesSelector"><a href="#matchesSelector" class="headerlink" title="matchesSelector"></a>matchesSelector</h2><p>在SELECTORS API Level 2规范中，为DOM节点添加了一个方法，主要是用来判断当前DOM节点不否能完全匹配对应的CSS选择器规则；如果匹配成功，返回true，反之则返回false。语法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">element.matches(String selector);</div></pre></td></tr></table></figure>
<p>这个方法在我们做事件委托时就显得非常有用，并且jquery也封装了类似得方法来做委托,示例代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">document.querySelector(&apos;#wrap&apos;).addEventListener(&apos;click&apos;,function(e)&#123;</div><div class="line">    if(e.target.matches(&apos;a.btn&apos;)) &#123;</div><div class="line">        e.preventDefault();</div><div class="line">        //TODO something</div><div class="line">    &#125;</div><div class="line">&#125;,false);</div></pre></td></tr></table></figure>
<h3 id="zepto的用法"><a href="#zepto的用法" class="headerlink" title="zepto的用法"></a>zepto的用法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">zepto.matches = function(element, selector) &#123;</div><div class="line">	//没参数，非元素，直接返回</div><div class="line">	if(!selector || !element || element.nodeType !== 1) return false</div><div class="line"></div><div class="line">	//如果浏览器支持MatchesSelector  直接调用</div><div class="line">	var matchesSelector = element.webkitMatchesSelector || element.mozMatchesSelector ||</div><div class="line">		element.oMatchesSelector || element.matchesSelector</div><div class="line">	if(matchesSelector) return matchesSelector.call(element, selector)</div><div class="line"></div><div class="line">	//浏览器不支持MatchesSelector</div><div class="line">	var match, parent = element.parentNode,</div><div class="line">		temp = !parent</div><div class="line"></div><div class="line">	//元素没有父元素，存入到临时的div tempParent</div><div class="line">	if(temp)(parent = tempParent).appendChild(element)</div><div class="line"></div><div class="line">	//再通过父元素来搜索此表达式。  找不到-1  找到有索引从0开始</div><div class="line">	//注意 ~取反位运算符  作用是将值取负数再减1   如-1变成0  0变成-1</div><div class="line">	match = ~zepto.qsa(parent, selector).indexOf(element)</div><div class="line"></div><div class="line">	//清理临时父节点</div><div class="line">	temp &amp;&amp; tempParent.removeChild(element)</div><div class="line"></div><div class="line">	//返回匹配</div><div class="line">	return match</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="检测对象基本对象"><a href="#检测对象基本对象" class="headerlink" title="检测对象基本对象"></a>检测对象基本对象</h2><p>这是一个十分常见的问题，用 typeof 是否能准确判断一个对象变量，答案是否定的，null 的结果也是 object，Array 的结果也是 object，有时候我们需要的是 “纯粹” 的 object 对象。如何避免呢？比较好的方式是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">console.log(Object.prototype.toString.call(obj) === &quot;[object Object]&quot;);</div></pre></td></tr></table></figure>
<p>如下面的使用方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">console.log(Object.prototype.toString.call(&quot;jerry&quot;));//[object String]</div><div class="line">console.log(Object.prototype.toString.call(12));//[object Number]</div><div class="line">console.log(Object.prototype.toString.call(true));//[object Boolean]</div><div class="line">console.log(Object.prototype.toString.call(undefined));//[object Undefined]</div><div class="line">console.log(Object.prototype.toString.call(null));//[object Null]</div><div class="line">console.log(Object.prototype.toString.call(&#123;name: &quot;jerry&quot;&#125;));//[object Object]</div><div class="line">console.log(Object.prototype.toString.call(function()&#123;&#125;));//[object Function]</div><div class="line">console.log(Object.prototype.toString.call([]));//[object Array]</div><div class="line">console.log(Object.prototype.toString.call(new Date));//[object Date]</div><div class="line">console.log(Object.prototype.toString.call(/\d/));//[object RegExp]</div><div class="line">function Person()&#123;&#125;;</div><div class="line">console.log(Object.prototype.toString.call(new Person));//[object Object]</div></pre></td></tr></table></figure>
<p>toString为Object的原型方法，而Array ，function等类型作为Object的实例，都重写了toString方法。不同的对象类型调用toString方法时，根据原型链的知识，调用的是对应的重写之后的toString方法（function类型返回内容为函数体的字符串，Array类型返回元素组成的字符串…..），而不会去调用Object上原型toString方法（返回对象的具体类型），所以采用obj.toString()不能得到其对象类型，只能将obj转换为字符串类型；因此，在想要得到对象的具体类型时，应该调用Object上原型toString方法。</p>
<h1 id="touch-js"><a href="#touch-js" class="headerlink" title="touch.js"></a>touch.js</h1><p>click事件在移动端上会有 300ms 的延迟，同时因为需要 长按，双触击 等富交互，所以我们通常都会引入类似 zepto 这样的库。zepto 实现了’swipe’, ‘swipeLeft’, ‘swipeRight’, ‘swipeUp’, ‘swipeDown’, ‘doubleTap’, ‘tap’, ‘singleTap’, ‘longTap’ 这样一些功能。</p>
<h2 id="MSGesture"><a href="#MSGesture" class="headerlink" title="MSGesture"></a>MSGesture</h2><p>Windows 8 Release Preview 的 IE10 中引入了 JavaScript 中的手势识别对象。网站可以创建手势对象，决定处理哪些指针（鼠标、手写笔或触摸）并将手势事件指向相应的元素。然后，浏览器将计算正执行的手势并通过事件通知页面。这样开发人员便可构建出在其他任何本机浏览器中都尚无法实现的手势体验。其中包括多个并发手势（例如，使用您的双手旋转两块拼图）。</p>
<p>我们来看一下这一切是如何在代码中实现的。</p>
<p>在您的网站中处理手势的第一步是实例化手势对象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var myGesture = new MSGesture();</div></pre></td></tr></table></figure>
<p>接下来，为该手势提供一个目标元素。浏览器将对该元素触发手势事件。同时，该元素还可以确定事件的坐标空间。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">elm = document.getElementById(&quot;someElement&quot;);</div><div class="line">myGesture.target = elm;</div><div class="line">elm.addEventListener(&quot;MSGestureChange&quot;, handleGesture);</div></pre></td></tr></table></figure>
<p>最后，告知手势对象在手势识别期间处理哪些指针。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">elm.addEventListener(&quot;MSPointerDown&quot;, function (evt) &#123;</div><div class="line">// adds the current mouse, pen, or touch contact for gesture recognition</div><div class="line">myGesture.addPointer(evt.pointerId);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$(document).ready</div><div class="line"></div><div class="line">判断是否支持MSGesture事件</div><div class="line">if(&apos;MSGesture&apos; in window) &#123;</div><div class="line">			gesture = new MSGesture()</div><div class="line">			gesture.target = document.body</div><div class="line">		&#125;</div></pre></td></tr></table></figure>
<p> 然后依次在document onready事件里根据touchstart, touchmove, touchend 做了一些封装和判断，然后通过 zepto 自己的事件体系来注册和触发。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow198.github.io/2017/08/07/JavaScript正则表达式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1494089740209&di=60b506b78e806e9a6471444547c037f7&imgtype=0&src=http%3A%2F%2Fimgtu.5011.net%2Fuploads%2Fcontent%2F20170410%2F1094241491816418.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shadow's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/07/JavaScript正则表达式/" itemprop="url">JavaScript 正则表达式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-07T22:20:07+08:00">
                2017-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>正则表达式，又称规则表达式。（英语：Regular Expression，在代码中常简写为regex、regexp或RE），计算机科学的一个概念。正则表通常被用来检索、替换那些符合某个模式(规则)的文本。</p>
<h3 id="基本规则"><a href="#基本规则" class="headerlink" title="基本规则"></a>基本规则</h3><p>在正则表达式中，如果直接给出字符，就是精确匹配。用\d可以匹配一个数字，\w可以匹配一个字母或数字，所以：</p>
<ul>
<li><p>‘00\d’可以匹配’007’，但无法匹配’00A’；</p>
</li>
<li><p>‘\d\d\d’可以匹配’010’；</p>
</li>
<li><p>‘\w\w’可以匹配’js’；</p>
</li>
</ul>
<p>.可以匹配任意字符，所以：</p>
<ul>
<li>‘js.’可以匹配’jsp’、’jss’、’js!’等等。<br>要匹配变长的字符，在正则表达式中，用*表示任意个字符（包括0个），用+表示至少一个字符，用?表示0个或1个字符，用{n}表示n个字符，用{n,m}表示n-m个字符：</li>
</ul>
<p>来看一个复杂的例子：\d{3}\s+\d{3,8}。</p>
<p>我们来从左到右解读一下：</p>
<ol>
<li><p>\d{3}表示匹配3个数字，例如’010’；</p>
</li>
<li><p>\s可以匹配一个空格（也包括Tab等空白符），所以\s+表示至少有一个空格，例如匹配’ ‘，’\t\t’等；</p>
</li>
<li><p>\d{3,8}表示3-8个数字，例如’1234567’。</p>
</li>
</ol>
<p>综合起来，上面的正则表达式可以匹配以任意个空格隔开的带区号的电话号码。</p>
<p>如果要匹配’010-12345’这样的号码呢？由于’-‘是特殊字符，在正则表达式中，要用’\’转义，所以，上面的正则是\d{3}-\d{3,8}。</p>
<p>但是，仍然无法匹配’010 - 12345’，因为带有空格。所以我们需要更复杂的匹配方式。</p>
<h3 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h3><ul>
<li><p>[0-9a-zA-Z_]可以匹配一个数字、字母或者下划线；</p>
</li>
<li><p>[0-9a-zA-Z_]+可以匹配至少由一个数字、字母或者下划线组成的字符串，比如’a100’，’0_Z’，’js2015’等等；</p>
</li>
<li><p>[a-zA-Z_\$][0-9a-zA-Z_\$]*可以匹配由字母或下划线、$开头，后接任意个由一个数字、字母或者下划线、$组成的字符串，也就是JavaScript允许的变量名；</p>
</li>
<li><p>[a-zA-Z_\$][0-9a-zA-Z_\$]{0, 19}更精确地限制了变量的长度是1-20个字符（前面1个字符+后面最多19个字符）。</p>
</li>
<li><p>A|B可以匹配A或B，所以(J|j)ava(S|s)cript可以匹配’JavaScript’、’Javascript’、’javaScript’或者’javascript’。</p>
</li>
<li><p>^表示行的开头，^\d表示必须以数字开头。</p>
</li>
<li>$表示行的结束，\d$表示必须以数字结束。</li>
</ul>
<p>你可能注意到了，js也可以匹配’jsp’，但是加上^js$就变成了整行匹配，就只能匹配’js’了。</p>
<h2 id="javascript中的正则"><a href="#javascript中的正则" class="headerlink" title="javascript中的正则"></a>javascript中的正则</h2><p>JavaScript有两种方式创建一个正则表达式：</p>
<p>第一种方式是直接通过/正则表达式/写出来，第二种方式是通过new RegExp(‘正则表达式’)创建一个RegExp对象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var re1 = /ABC\-001/;</div><div class="line">var re2 = new RegExp(&apos;ABC\\-001&apos;);</div><div class="line"></div><div class="line">re1; // /ABC\-001/</div><div class="line">re2; // /ABC\-001/</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">//test()</div><div class="line">var re = /^\d&#123;3&#125;\-\d&#123;3,8&#125;$/;</div><div class="line">re.test(&apos;010-12345&apos;); // true</div><div class="line">re.test(&apos;010-1234x&apos;); // false</div><div class="line">re.test(&apos;010 12345&apos;); // false</div><div class="line"></div><div class="line"></div><div class="line">//exec 返回值是数组</div><div class="line">re.exec(&apos;10-12345&apos;);  //re -&gt; Array</div></pre></td></tr></table></figure>
<h3 id="标志"><a href="#标志" class="headerlink" title="标志"></a>标志</h3><ul>
<li>g: 全局匹配多次</li>
<li>i: 不区分大小写</li>
<li>m: 多行</li>
</ul>
<h3 id="切分字符串"><a href="#切分字符串" class="headerlink" title="切分字符串"></a>切分字符串</h3><p>用正则表达式切分字符串比用固定的字符更灵活，请看正常的切分代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&apos;a b   c&apos;.split(&apos; &apos;); // [&apos;a&apos;, &apos;b&apos;, &apos;&apos;, &apos;&apos;, &apos;c&apos;]</div></pre></td></tr></table></figure>
<p>嗯，无法识别连续的空格，用正则表达式试试：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&apos;a b   c&apos;.split(/\s+/); // [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]</div></pre></td></tr></table></figure>
<p>无论多少个空格都可以正常分割。加入,试试：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&apos;a,b, c  d&apos;.split(/[\s\,]+/); // [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;]</div></pre></td></tr></table></figure>
<p>再加入;试试：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&apos;a,b;; c  d&apos;.split(/[\s\,\;]+/); // [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;]</div></pre></td></tr></table></figure>
<p>如果用户输入了一组标签，下次记得用正则表达式来把不规范的输入转化成正确的数组。</p>
<h2 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h2><p>除了简单地判断是否匹配之外，正则表达式还有提取子串的强大功能。用()表示的就是要提取的分组（Group）。比如：</p>
<p>^(\d{3})-(\d{3,8})$分别定义了两个组，可以直接从匹配的字符串中提取出区号和本地号码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var re = /^(\d&#123;3&#125;)-(\d&#123;3,8&#125;)$/;</div><div class="line">re.exec(&apos;010-12345&apos;); // [&apos;010-12345&apos;, &apos;010&apos;, &apos;12345&apos;]</div><div class="line">re.exec(&apos;010 12345&apos;); // null</div></pre></td></tr></table></figure>
<p>如果正则表达式中定义了组，就可以在RegExp对象上用exec()方法提取出子串来。</p>
<p>exec()方法在匹配成功后，会返回一个Array，第一个元素是正则表达式匹配到的整个字符串，后面的字符串表示匹配成功的子串。</p>
<p>exec()方法在匹配失败时返回null。</p>
<h2 id="贪婪匹配"><a href="#贪婪匹配" class="headerlink" title="贪婪匹配"></a>贪婪匹配</h2><p>需要特别指出的是，正则匹配默认是贪婪匹配，也就是匹配尽可能多的字符。举例如下，匹配出数字后面的0：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var re = /^(\d+)(0*)$/;</div><div class="line">re.exec(&apos;102300&apos;); // [&apos;102300&apos;, &apos;102300&apos;, &apos;&apos;]</div></pre></td></tr></table></figure>
<p>由于\d+采用贪婪匹配，直接把后面的0全部匹配了，结果0*只能匹配空字符串了。</p>
<p>必须让\d+采用非贪婪匹配（也就是尽可能少匹配），才能把后面的0匹配出来，加个?就可以让\d+采用非贪婪匹配：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var re = /^(\d+?)(0*)$/;</div><div class="line">re.exec(&apos;102300&apos;); // [&apos;102300&apos;, &apos;1023&apos;, &apos;00&apos;]</div></pre></td></tr></table></figure>
<h2 id="全局搜索"><a href="#全局搜索" class="headerlink" title="全局搜索"></a>全局搜索</h2><p>JavaScript的正则表达式还有几个特殊的标志，最常用的是g，表示全局匹配：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var r1 = /test/g;</div><div class="line">// 等价于:</div><div class="line">var r2 = new RegExp(&apos;test&apos;, &apos;g&apos;);</div></pre></td></tr></table></figure>
<p>全局匹配可以多次执行exec()方法来搜索一个匹配的字符串。当我们指定g标志后，每次运行exec()，正则表达式本身会更新lastIndex属性，表示上次匹配到的最后索引：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">var s = &apos;JavaScript, VBScript, JScript and ECMAScript&apos;;</div><div class="line">var re=/[a-zA-Z]+Script/g;</div><div class="line"></div><div class="line">// 使用全局匹配:</div><div class="line">re.exec(s); // [&apos;JavaScript&apos;]</div><div class="line">re.lastIndex; // 10</div><div class="line"></div><div class="line">re.exec(s); // [&apos;VBScript&apos;]</div><div class="line">re.lastIndex; // 20</div><div class="line"></div><div class="line">re.exec(s); // [&apos;JScript&apos;]</div><div class="line">re.lastIndex; // 29</div><div class="line"></div><div class="line">re.exec(s); // [&apos;ECMAScript&apos;]</div><div class="line">re.lastIndex; // 44</div><div class="line"></div><div class="line">re.exec(s); // null，直到结束仍没有匹配到</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow198.github.io/2017/08/07/JavaScript 中2个等号与3个等号的区别/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1494089740209&di=60b506b78e806e9a6471444547c037f7&imgtype=0&src=http%3A%2F%2Fimgtu.5011.net%2Fuploads%2Fcontent%2F20170410%2F1094241491816418.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shadow's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/07/JavaScript 中2个等号与3个等号的区别/" itemprop="url">JavaScript 中2个等号与3个等号的区别</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-07T22:20:07+08:00">
                2017-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>首先，== equality 等同，=== identity 恒等。<br>==， 两边值类型不同的时候，要先进行类型转换，再比较。<br>===，不做类型转换，类型不同的一定不等。</p>
<p>下面分别说明： </p>
<h3 id="先说-这个比较简单。下面的规则用来判断两个值是否-相等："><a href="#先说-这个比较简单。下面的规则用来判断两个值是否-相等：" class="headerlink" title="先说 ===  这个比较简单。下面的规则用来判断两个值是否===相等："></a>先说 ===  这个比较简单。下面的规则用来判断两个值是否===相等：</h3><ol>
<li>如果类型不同，就[不相等] </li>
<li>如果两个都是数值，并且是同一个值，那么[相等]；(！例外)的是，如果其中至少一个是NaN，那么[不相等]。（判断一个值是否是NaN，只能用isNaN()来判断） </li>
<li>如果两个都是字符串，每个位置的字符都一样，那么[相等]；否则[不相等]。 </li>
<li>如果两个值都是true，或者都是false，那么[相等]。 </li>
<li>如果两个值都引用同一个对象或函数，那么[相等]；否则[不相等]。 </li>
<li>如果两个值都是null，或者都是undefined，那么[相等]。 </li>
</ol>
<h3 id="再说-，根据以下规则："><a href="#再说-，根据以下规则：" class="headerlink" title="再说 ==，根据以下规则："></a>再说 ==，根据以下规则：</h3><ol>
<li>如果两个值类型相同，进行 === 比较。 </li>
<li>如果两个值类型不同，他们可能相等。根据下面规则进行类型转换再比较： <ol>
<li>如果一个是null、一个是undefined，那么[相等]。 </li>
<li>如果一个是字符串，一个是数值，把字符串转换成数值再进行比较。 </li>
<li>如果任一值是 true，把它转换成 1 再比较；如果任一值是 false，把它转换成 0 再比较。 </li>
<li>如果一个是对象，另一个是数值或字符串，把对象转换成基础类型的值再比较。对象转换成基础类型，利用它的toString或者valueOf方法。js核心内置类，会尝试valueOf先于toString；例外的是Date，Date利用的是toString转换。非js核心的对象，令说（比较麻烦，我也不大懂） </li>
<li>任何其他组合，都[不相等]。 </li>
</ol>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow198.github.io/2017/08/07/ES6语法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1494089740209&di=60b506b78e806e9a6471444547c037f7&imgtype=0&src=http%3A%2F%2Fimgtu.5011.net%2Fuploads%2Fcontent%2F20170410%2F1094241491816418.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shadow's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/07/ES6语法/" itemprop="url">Es6语法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-07T22:20:07+08:00">
                2017-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="箭头函数中的this"><a href="#箭头函数中的this" class="headerlink" title="箭头函数中的this"></a>箭头函数中的this</h2><h3 id="箭头函数可以绑定this对象，大大减少了显式绑定this对象的写法（call、apply、bind）。在箭头函数中，下面的代码之中有几个this？"><a href="#箭头函数可以绑定this对象，大大减少了显式绑定this对象的写法（call、apply、bind）。在箭头函数中，下面的代码之中有几个this？" class="headerlink" title="箭头函数可以绑定this对象，大大减少了显式绑定this对象的写法（call、apply、bind）。在箭头函数中，下面的代码之中有几个this？"></a>箭头函数可以绑定this对象，大大减少了显式绑定this对象的写法（call、apply、bind）。在箭头函数中，下面的代码之中有几个this？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function  foo() &#123;</div><div class="line">    return () =&gt; &#123;</div><div class="line">        return () =&gt; &#123;</div><div class="line">            return () =&gt; &#123;</div><div class="line">            console.log(&apos;id:&apos;, this.id);</div><div class="line">            &#125;;</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>一个 1.foo函数作用域this</p>
<h2 id="var与let"><a href="#var与let" class="headerlink" title="var与let"></a>var与let</h2><h3 id="var的变量提升产生了什么后果？"><a href="#var的变量提升产生了什么后果？" class="headerlink" title="var的变量提升产生了什么后果？"></a>var的变量提升产生了什么后果？</h3><ol>
<li>所有的变量声明语句都会被提升到代码的顶部</li>
<li>在函数体内，局部变量的优先级要高于全局变量。如果在函数体内重新声明一个与局部变量重名的变量，局部变量就会覆盖全局变量的值。</li>
</ol>
<h2 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h2><h4 id="以下哪种是推荐的写法？"><a href="#以下哪种是推荐的写法？" class="headerlink" title="以下哪种是推荐的写法？"></a>以下哪种是推荐的写法？</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">const arr = [1, 2, 3, 4];</div><div class="line">const first = arr[0];</div><div class="line">const second = arr[1];</div><div class="line">const [ first,  second] = arr;</div></pre></td></tr></table></figure>
<p>const [ first,  second] = arr;</p>
<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><h3 id="立即执行函数建议改成哪种形式？举个例子"><a href="#立即执行函数建议改成哪种形式？举个例子" class="headerlink" title="立即执行函数建议改成哪种形式？举个例子"></a>立即执行函数建议改成哪种形式？举个例子</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(()=&gt;&#123;</div><div class="line">    console.log(&quot;hello world&quot;);</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<h3 id="什么时候使用Object或Map？"><a href="#什么时候使用Object或Map？" class="headerlink" title="什么时候使用Object或Map？"></a>什么时候使用Object或Map？</h3><p>模拟现实对象的时候用Object,<br>存储键值对的时候使用Map</p>
<h3 id="如何使用ESLint？"><a href="#如何使用ESLint？" class="headerlink" title="如何使用ESLint？"></a>如何使用ESLint？</h3><ol>
<li>安装EsLint npm i -g eslint</li>
<li>安装airbnb语法规则  npm i -g eslint-config-airbnb</li>
<li>在项目根目录下新建.eslintrc文件</li>
</ol>
<h3 id="Airbnb规范中对于条件表达式有哪些要求？"><a href="#Airbnb规范中对于条件表达式有哪些要求？" class="headerlink" title="Airbnb规范中对于条件表达式有哪些要求？"></a>Airbnb规范中对于条件表达式有哪些要求？</h3><p>1.优先使用 === 和 !== 而不是 == 和 !=.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow198.github.io/2017/08/07/Dom/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1494089740209&di=60b506b78e806e9a6471444547c037f7&imgtype=0&src=http%3A%2F%2Fimgtu.5011.net%2Fuploads%2Fcontent%2F20170410%2F1094241491816418.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shadow's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/07/Dom/" itemprop="url">javascript DOM操作</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-07T22:20:07+08:00">
                2017-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="操作DOM"><a href="#操作DOM" class="headerlink" title="操作DOM"></a>操作DOM</h1><p>于HTML文档被浏览器解析后就是一棵DOM树，要改变HTML的结构，就需要通过JavaScript来操作DOM。</p>
<p>始终记住DOM是一个树形结构。操作一个DOM节点实际上就是这么几个操作：</p>
<p>更新：更新该DOM节点的内容，相当于更新了该DOM节点表示的HTML的内容；</p>
<p>遍历：遍历该DOM节点下的子节点，以便进行进一步操作；</p>
<p>添加：在该DOM节点下新增一个子节点，相当于动态增加了一个HTML节点；</p>
<p>删除：将该节点从HTML中删除，相当于删掉了该DOM节点的内容以及它包含的所有子节点。</p>
<p>在操作一个DOM节点前，我们需要通过各种方式先拿到这个DOM节点。最常用的方法是document.getElementById()和document.getElementsByTagName()，以及CSS选择器document.getElementsByClassName()。</p>
<p>由于ID在HTML文档中是唯一的，所以document.getElementById()可以直接定位唯一的一个DOM节点。document.getElementsByTagName()和document.getElementsByClassName()总是返回一组DOM节点。要精确地选择DOM，可以先定位父节点，再从父节点开始选择，以缩小范围。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">/ 返回ID为&apos;test&apos;的节点：</div><div class="line">var test = document.getElementById(&apos;test&apos;);</div><div class="line"></div><div class="line">// 先定位ID为&apos;test-table&apos;的节点，再返回其内部所有tr节点：</div><div class="line">var trs = document.getElementById(&apos;test-table&apos;).getElementsByTagName(&apos;tr&apos;);</div><div class="line"></div><div class="line">// 先定位ID为&apos;test-div&apos;的节点，再返回其内部所有class包含red的节点：</div><div class="line">var reds = document.getElementById(&apos;test-div&apos;).getElementsByClassName(&apos;red&apos;);</div><div class="line"></div><div class="line">// 获取节点test下的所有直属子节点:</div><div class="line">var cs = test.children;</div><div class="line"></div><div class="line">// 获取节点test下第一个、最后一个子节点：</div><div class="line">var first = test.firstElementChild;</div><div class="line">var last = test.lastElementChild;</div></pre></td></tr></table></figure>
<p>第二种方法是使用querySelector()和querySelectorAll()，需要了解selector语法，然后使用条件来获取节点，更加方便：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">/ 通过querySelector获取ID为q1的节点：</div><div class="line">var q1 = document.querySelector(&apos;#q1&apos;);</div><div class="line"></div><div class="line">// 通过querySelectorAll获取q1节点内的符合条件的所有节点：</div><div class="line">var ps = q1.querySelectorAll(&apos;div.highlighted &gt; p&apos;);</div></pre></td></tr></table></figure>
<h2 id="更新DOM"><a href="#更新DOM" class="headerlink" title="更新DOM"></a>更新DOM</h2><h3 id="一种是修改innerHTML属性，这个方式非常强大，不但可以修改一个DOM节点的文本内容，还可以直接通过HTML片段修改DOM节点内部的子树："><a href="#一种是修改innerHTML属性，这个方式非常强大，不但可以修改一个DOM节点的文本内容，还可以直接通过HTML片段修改DOM节点内部的子树：" class="headerlink" title="一种是修改innerHTML属性，这个方式非常强大，不但可以修改一个DOM节点的文本内容，还可以直接通过HTML片段修改DOM节点内部的子树："></a>一种是修改innerHTML属性，这个方式非常强大，不但可以修改一个DOM节点的文本内容，还可以直接通过HTML片段修改DOM节点内部的子树：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">// 获取&lt;p id=&quot;p-id&quot;&gt;...&lt;/p&gt;</div><div class="line">var p = document.getElementById(&apos;p-id&apos;);</div><div class="line">// 设置文本为abc:</div><div class="line">p.innerHTML = &apos;ABC&apos;; // &lt;p id=&quot;p-id&quot;&gt;ABC&lt;/p&gt;</div><div class="line">// 设置HTML:</div><div class="line">p.innerHTML = &apos;ABC &lt;span style=&quot;color:red&quot;&gt;RED&lt;/span&gt; XYZ&apos;;</div><div class="line">// &lt;p&gt;...&lt;/p&gt;的内部结构已修改</div></pre></td></tr></table></figure>
<h3 id="第二种是修改innerText或textContent属性，这样可以自动对字符串进行HTML编码，保证无法设置任何HTML标签："><a href="#第二种是修改innerText或textContent属性，这样可以自动对字符串进行HTML编码，保证无法设置任何HTML标签：" class="headerlink" title="第二种是修改innerText或textContent属性，这样可以自动对字符串进行HTML编码，保证无法设置任何HTML标签："></a>第二种是修改innerText或textContent属性，这样可以自动对字符串进行HTML编码，保证无法设置任何HTML标签：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// 获取&lt;p id=&quot;p-id&quot;&gt;...&lt;/p&gt;</div><div class="line">var p = document.getElementById(&apos;p-id&apos;);</div><div class="line">// 设置文本:</div><div class="line">p.innerText = &apos;&lt;script&gt;alert(&quot;Hi&quot;)&lt;/script&gt;&apos;;</div><div class="line">// HTML被自动编码，无法设置一个&lt;script&gt;节点:</div><div class="line">// &lt;p id=&quot;p-id&quot;&gt;&amp;lt;script&amp;gt;alert(&quot;Hi&quot;)&amp;lt;/script&amp;gt;&lt;/p&gt;</div></pre></td></tr></table></figure>
<p>两者的区别在于读取属性时，innerText不返回隐藏元素的文本，而textContent返回所有文本。另外注意IE&lt;9不支持textContent。</p>
<h2 id="插入DOM"><a href="#插入DOM" class="headerlink" title="插入DOM"></a>插入DOM</h2><p>如果这个DOM节点是空的，例如，<div></div>，那么，直接使用innerHTML = ‘<span>child</span>‘就可以修改DOM节点的内容，相当于“插入”了新的DOM节点。</p>
<p>如果这个DOM节点不是空的，那就不能这么做，因为innerHTML会直接替换掉原来的所有子节点。</p>
<p>有两个办法可以插入新的节点。一个是使用appendChild，把一个子节点添加到父节点的最后一个子节点。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;!-- HTML结构 --&gt;</div><div class="line">&lt;p id=&quot;js&quot;&gt;JavaScript&lt;/p&gt;</div><div class="line">&lt;div id=&quot;list&quot;&gt;</div><div class="line">    &lt;p id=&quot;java&quot;&gt;Java&lt;/p&gt;</div><div class="line">    &lt;p id=&quot;python&quot;&gt;Python&lt;/p&gt;</div><div class="line">    &lt;p id=&quot;scheme&quot;&gt;Scheme&lt;/p&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line"></div><div class="line">var</div><div class="line">    js = document.getElementById(&apos;js&apos;),</div><div class="line">    list = document.getElementById(&apos;list&apos;);</div><div class="line">list.appendChild(js);</div><div class="line"></div><div class="line">    </div><div class="line">&lt;!-- HTML结构 --&gt;</div><div class="line">&lt;div id=&quot;list&quot;&gt;</div><div class="line">    &lt;p id=&quot;java&quot;&gt;Java&lt;/p&gt;</div><div class="line">    &lt;p id=&quot;python&quot;&gt;Python&lt;/p&gt;</div><div class="line">    &lt;p id=&quot;scheme&quot;&gt;Scheme&lt;/p&gt;</div><div class="line">    &lt;p id=&quot;js&quot;&gt;JavaScript&lt;/p&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<h3 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener"></a>addEventListener</h3><ol>
<li><p>冒泡(由内而外)<br>btn.addEventListener(“click”,fun(),false)   //默认false</p>
</li>
<li><p>捕获(由外而内)<br>btn.addEventListener(“click”,fun(),true)</p>
</li>
<li><p>阻止事件冒泡<br>tn.addEventListener(“click”,fun(event),true)</p>
</li>
</ol>
<p>event.stopPropagation();</p>
<ol>
<li><p>兼容低版本<br>btn1.attachEvent(“onclick”,func())</p>
</li>
<li><p>阻止元素默认行为<br>btn.onclick = func(event){<br> event.preventDefault();<br> //Todo<br>}</p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow198.github.io/2017/07/24/从浏览器地址栏输入url到显示页面的步/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1494089740209&di=60b506b78e806e9a6471444547c037f7&imgtype=0&src=http%3A%2F%2Fimgtu.5011.net%2Fuploads%2Fcontent%2F20170410%2F1094241491816418.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shadow's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/24/从浏览器地址栏输入url到显示页面的步/" itemprop="url">从浏览器地址栏输入url到显示页面的步骤(以HTTP为例)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-24T23:03:17+08:00">
                2017-07-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="从浏览器地址栏输入url到显示页面的步骤-以HTTP为例"><a href="#从浏览器地址栏输入url到显示页面的步骤-以HTTP为例" class="headerlink" title="从浏览器地址栏输入url到显示页面的步骤(以HTTP为例)"></a>从浏览器地址栏输入url到显示页面的步骤(以HTTP为例)</h3><ol>
<li>在浏览器地址栏输入URL</li>
<li>浏览器查看<strong>缓存</strong>，如果请求资源在缓存中并且新鲜，跳转到转码步骤<ol>
<li>如果资源未缓存，发起新请求</li>
<li>如果已缓存，检验是否足够新鲜，足够新鲜直接提供给客户端，否则与服务器进行验证。</li>
<li>检验新鲜通常 有两个HTTP头进行控制<code>Expires</code>和<code>Cache-Control</code>：<ul>
<li>HTTP1.0提供Expires，值为一个绝对时间表示缓存新鲜日期</li>
<li>HTTP1.1增加了Cache-Control: max-age=,值为以秒为单位的最大新鲜时间</li>
</ul>
</li>
</ol>
</li>
<li>浏览器<strong>解析URL</strong>获取协议，主机，端口，path</li>
<li>浏览器<strong>组装一个HTTP（GET）请求报文</strong></li>
<li>浏览器<strong>获取主机ip地址</strong>，过程如下：<ol>
<li>浏览器缓存</li>
<li>本机缓存</li>
<li>hosts文件</li>
<li>路由器缓存</li>
<li>ISP DNS缓存</li>
<li>DNS递归查询（可能存在负载均衡导致每次IP不一样）</li>
</ol>
</li>
<li><strong>打开一个socket与目标IP地址，端口建立TCP链接</strong>，三次握手如下：<ol>
<li>客户端发送一个TCP的<strong>SYN=1，Seq=X</strong>的包到服务器端口</li>
<li>服务器发回<strong>SYN=1， ACK=X+1， Seq=Y</strong>的响应包</li>
<li>客户端发送<strong>ACK=Y+1， Seq=Z</strong></li>
</ol>
</li>
<li>TCP链接建立后<strong>发送HTTP请求</strong></li>
<li>服务器接受请求并解析，将请求转发到服务程序，如虚拟主机使用HTTP Host头部判断请求的服务程序</li>
<li>服务器检查<strong>HTTP请求头是否包含缓存验证信息</strong>如果验证缓存新鲜，返回<strong>304</strong>等对应状态码</li>
<li>处理程序读取完整请求并准备HTTP响应，可能需要查询数据库等操作</li>
<li>服务器将<strong>响应报文通过TCP连接发送回浏览器</strong></li>
<li>浏览器接收HTTP响应，然后根据情况选择<strong>关闭TCP连接或者保留重用，关闭TCP连接的四次握手如下</strong>：<ol>
<li>主动方发送<strong>Fin=1， Ack=Z， Seq= X</strong>报文</li>
<li>被动方发送<strong>ACK=X+1， Seq=Z</strong>报文</li>
<li>被动方发送<strong>Fin=1， ACK=X， Seq=Y</strong>报文</li>
<li>主动方发送<strong>ACK=Y， Seq=X</strong>报文</li>
</ol>
</li>
<li>浏览器检查响应状态吗：是否为1XX，3XX， 4XX， 5XX，这些情况处理与2XX不同</li>
<li>如果资源可缓存，<strong>进行缓存</strong></li>
<li>对响应进行<strong>解码</strong>（例如gzip压缩）</li>
<li>根据资源类型决定如何处理（假设资源为HTML文档）</li>
<li><strong>解析HTML文档，构件DOM树，下载资源，构造CSSOM树，执行js脚本</strong>，这些操作没有严格的先后顺序，以下分别解释</li>
<li><strong>构建DOM树</strong>：<ol>
<li><strong>Tokenizing</strong>：根据HTML规范将字符流解析为标记</li>
<li><strong>Lexing</strong>：词法分析将标记转换为对象并定义属性和规则</li>
<li><strong>DOM construction</strong>：根据HTML标记关系将对象组成DOM树</li>
</ol>
</li>
<li>解析过程中遇到图片、样式表、js文件，<strong>启动下载</strong></li>
<li>构建<strong>CSSOM树</strong>：<ol>
<li><strong>Tokenizing</strong>：字符流转换为标记流</li>
<li><strong>Node</strong>：根据标记创建节点</li>
<li><strong>CSSOM</strong>：节点创建CSSOM树</li>
</ol>
</li>
<li><strong><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction" target="_blank" rel="external">根据DOM树和CSSOM树构建渲染树</a></strong>:<ol>
<li>从DOM树的根节点遍历所有<strong>可见节点</strong>，不可见节点包括：1）<code>script</code>,<code>meta</code>这样本身不可见的标签。2)被css隐藏的节点，如<code>display: none</code></li>
<li>对每一个可见节点，找到恰当的CSSOM规则并应用</li>
<li>发布可视节点的内容和计算样式</li>
</ol>
</li>
<li><strong>js解析如下</strong>：<ol>
<li>浏览器创建Document对象并解析HTML，将解析到的元素和文本节点添加到文档中，此时<strong>document.readystate为loading</strong></li>
<li>HTML解析器遇到<strong>没有async和defer的script时</strong>，将他们添加到文档中，然后执行行内或外部脚本。这些脚本会同步执行，并且在脚本下载和执行时解析器会暂停。这样就可以用document.write()把文本插入到输入流中。<strong>同步脚本经常简单定义函数和注册事件处理程序，他们可以遍历和操作script和他们之前的文档内容</strong></li>
<li>当解析器遇到设置了<strong>async</strong>属性的script时，开始下载脚本并继续解析文档。脚本会在它<strong>下载完成后尽快执行</strong>，但是<strong>解析器不会停下来等它下载</strong>。异步脚本<strong>禁止使用document.write()</strong>，它们可以访问自己script和之前的文档元素</li>
<li>当文档完成解析，document.readState变成interactive</li>
<li>所有<strong>defer</strong>脚本会<strong>按照在文档出现的顺序执行</strong>，延迟脚本<strong>能访问完整文档树</strong>，禁止使用document.write()</li>
<li>浏览器<strong>在Document对象上触发DOMContentLoaded事件</strong></li>
<li>此时文档完全解析完成，浏览器可能还在等待如图片等内容加载，等这些<strong>内容完成载入并且所有异步脚本完成载入和执行</strong>，document.readState变为complete,window触发load事件</li>
</ol>
</li>
<li><strong>显示页面</strong>（HTML解析过程中会逐步显示页面）</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow198.github.io/2017/06/03/javascript知识点/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1494089740209&di=60b506b78e806e9a6471444547c037f7&imgtype=0&src=http%3A%2F%2Fimgtu.5011.net%2Fuploads%2Fcontent%2F20170410%2F1094241491816418.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shadow's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/03/javascript知识点/" itemprop="url">Java知识点</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-03T22:23:19+08:00">
                2017-06-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h1><h2 id="全局作用域"><a href="#全局作用域" class="headerlink" title="全局作用域"></a>全局作用域</h2><p>不在任何函数内定义的变量就具有全局作用域。实际上，JavaScript默认有一个全局对象window，全局作用域的变量实际上被绑定到window的一个属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&apos;use strict&apos;;</div><div class="line"></div><div class="line">var course = &apos;Learn JavaScript&apos;;</div><div class="line">alert(course); // &apos;Learn JavaScript&apos;</div><div class="line">alert(window.course); // &apos;Learn JavaScript&apos;</div></pre></td></tr></table></figure>
<p>因此，直接访问全局变量course和访问window.course是完全一样的。</p>
<h3 id="名字空间"><a href="#名字空间" class="headerlink" title="名字空间"></a>名字空间</h3><p>全局变量会绑定到window上，不同的JavaScript文件如果使用了相同的全局变量，或者定义了相同名字的顶层函数，都会造成命名冲突，并且很难被发现。<br>减少冲突的一个方法是把自己的所有变量和函数全部绑定到一个全局变量中。例如：<br>// 唯一的全局变量MYAPP:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">var MYAPP = &#123;&#125;;</div><div class="line"></div><div class="line">// 其他变量:</div><div class="line">MYAPP.name = &apos;myapp&apos;;</div><div class="line">MYAPP.version = 1.0;</div><div class="line"></div><div class="line">// 其他函数:</div><div class="line">MYAPP.foo = function () &#123;</div><div class="line">    return &apos;foo&apos;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>把自己的代码全部放入唯一的名字空间MYAPP中，会大大减少全局变量冲突的可能。<br>许多著名的JavaScript库都是这么干的：jQuery，YUI，underscore等等。</p>
<h2 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h2><p>JavaScript的函数定义有个特点，它会先扫描整个函数体的语句，把所有申明的变量“提升”到函数顶部：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&apos;use strict&apos;;</div><div class="line"></div><div class="line">function foo() &#123;</div><div class="line">    var x = &apos;Hello, &apos; + y;</div><div class="line">    alert(x);</div><div class="line">    var y = &apos;Bob&apos;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">foo();</div></pre></td></tr></table></figure>
<p>虽然是strict模式，但语句var x = ‘Hello, ‘ + y;并不报错，原因是变量y在稍后申明了。但是alert显示Hello, undefined，说明变量y的值为undefined。这正是因为JavaScript引擎自动提升了变量y的声明，但不会提升变量y的赋值。</p>
<h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>由于var和let申明的是变量，如果要申明一个常量，在ES6之前是不行的，我们通常用全部大写的变量来表示“这是一个常量，不要修改它的值”：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var PI = 3.14;</div></pre></td></tr></table></figure>
<p>ES6标准引入了新的关键字const来定义常量，const与let都具有块级作用域：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&apos;use strict&apos;;</div><div class="line"></div><div class="line">const PI = 3.14;</div><div class="line">PI = 3; // 某些浏览器不报错，但是无效果！</div><div class="line">PI; // 3.14</div></pre></td></tr></table></figure>
<h1 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h1><p>在一个对象中绑定函数，称为这个对象的方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var xiaoming = &#123;</div><div class="line">    name: &apos;小明&apos;,</div><div class="line">    birth: 1990,</div><div class="line">    age: function () &#123;</div><div class="line">        var y = new Date().getFullYear();</div><div class="line">        return y - this.birth;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">xiaoming.age; // function xiaoming.age()</div><div class="line">xiaoming.age(); // 今年调用是25,明年调用就变成26了</div></pre></td></tr></table></figure>
<p>在一个方法内部，this是一个特殊变量，它始终指向当前对象，也就是xiaoming这个变量。所以，this.birth可以拿到xiaoming的birth属性。</p>
<h3 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h3><p>虽然在一个独立的函数调用中，根据是否是strict模式，this指向undefined或window，不过，我们还是可以控制this的指向的！</p>
<p>要指定函数的this指向哪个对象，可以用函数本身的apply方法，它接收两个参数，第一个参数就是需要绑定的this变量，第二个参数是Array，表示函数本身的参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function getAge() &#123;</div><div class="line">    var y = new Date().getFullYear();</div><div class="line">    return y - this.birth;</div><div class="line">&#125;</div><div class="line"></div><div class="line">var xiaoming = &#123;</div><div class="line">    name: &apos;小明&apos;,</div><div class="line">    birth: 1990,</div><div class="line">    age: getAge</div><div class="line">&#125;;</div><div class="line"></div><div class="line">xiaoming.age(); // 25</div><div class="line">getAge.apply(xiaoming, []); // 25, this指向xiaoming, 参数为空</div></pre></td></tr></table></figure>
<p>另一个与apply()类似的方法是call()，唯一区别是：</p>
<ul>
<li><p>apply()把参数打包成Array再传入；</p>
</li>
<li><p>call()把参数按顺序传入。</p>
</li>
<li></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://shadow198.github.io/2017/05/17/css优先级机制/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shadow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1494089740209&di=60b506b78e806e9a6471444547c037f7&imgtype=0&src=http%3A%2F%2Fimgtu.5011.net%2Fuploads%2Fcontent%2F20170410%2F1094241491816418.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shadow's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/17/css优先级机制/" itemprop="url">CSS的优先级机制</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-17T09:26:20+08:00">
                2017-05-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="样式的优先级"><a href="#样式的优先级" class="headerlink" title="样式的优先级"></a>样式的优先级</h1><h2 id="多重样式（Multiple-Styles）"><a href="#多重样式（Multiple-Styles）" class="headerlink" title="多重样式（Multiple Styles）"></a>多重样式（Multiple Styles）</h2><p>如果外部样式、内部样式和内联样式同时应用于同一个元素，就是使多重样式的情况。<br>一般情况下，优先级如下：<br>（外部样式）External style sheet &lt;（内部样式）Internal style sheet &lt;（内联样式）Inline style</p>
<p>有个例外的情况，就是如果外部样式放在内部样式的后面，则外部样式将覆盖内部样式。<br>示例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">    &lt;style type=&quot;text/css&quot;&gt;</div><div class="line">      /* 内部样式 */</div><div class="line">      h3&#123;color:green;&#125;</div><div class="line">    &lt;/style&gt;</div><div class="line"></div><div class="line">    &lt;!-- 外部样式 style.css --&gt;</div><div class="line">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style.css&quot;/&gt;</div><div class="line">    &lt;!-- 设置：h3&#123;color:blue;&#125; --&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;h3&gt;测试！&lt;/h3&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
<h2 id="选择器的优先权"><a href="#选择器的优先权" class="headerlink" title="选择器的优先权"></a>选择器的优先权</h2><p>内联样式表的权值最高 1000；<br>ID 选择器的权值为 100<br>Class 类选择器的权值为 10<br>HTML 标签选择器的权值为 1<br>利用选择器的权值进行计算比较，示例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;style type=&quot;text/css&quot;&gt;</div><div class="line">        #redP p &#123;</div><div class="line">             /* 权值 = 100+1=101 */</div><div class="line">             color:#F00;  /* 红色 */</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        #redP .red em &#123;</div><div class="line">             /* 权值 = 100+10+1=111 */</div><div class="line">             color:#00F; /* 蓝色 */</div><div class="line"></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        #redP p span em &#123;</div><div class="line">             /* 权值 = 100+1+1+1=103 */</div><div class="line">             color:#FF0;/*黄色*/</div><div class="line">        &#125;</div><div class="line">    &lt;/style&gt;</div><div class="line">  &lt;/head&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">     &lt;div id=&quot;redP&quot;&gt;</div><div class="line">        &lt;p class=&quot;red&quot;&gt;red</div><div class="line">           &lt;span&gt;&lt;em&gt;em red&lt;/em&gt;&lt;/span&gt;</div><div class="line">        &lt;/p&gt;</div><div class="line">        &lt;p&gt;red&lt;/p&gt;</div><div class="line">     &lt;/div&gt;</div><div class="line">  &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>结果：em标签内的数据显示为蓝色。</p>
<h2 id="CSS-优先级法则："><a href="#CSS-优先级法则：" class="headerlink" title="CSS 优先级法则："></a>CSS 优先级法则：</h2><p>A. 选择器都有一个权值，权值越大越优先；</p>
<p>B.  当权值相等时，后出现的样式表设置要优于先出现的样式表设置；</p>
<p>C 创作者的规则高于浏览者：即网页编写者设置的CSS 样式的优先权高于浏览器所设置的样式；</p>
<p>D 继承的CSS 样式不如后来指定的CSS 样式；</p>
<p>E 在同一组属性设置中标有“!important”规则的优先级最大；示例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;style type=&quot;text/css&quot;&gt;</div><div class="line">     #redP p&#123;</div><div class="line">        /*两个color属性在同一组*/</div><div class="line">        color:#00f !important; /* 优先级最大 */</div><div class="line">        color:#f00;</div><div class="line">     &#125;</div><div class="line">    &lt;/style&gt;</div><div class="line">  &lt;/head&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">     &lt;div id=&quot;redP&quot;&gt;</div><div class="line">       &lt;p&gt;color&lt;/p&gt;</div><div class="line">       &lt;p&gt;color&lt;/p&gt;</div><div class="line">     &lt;/div&gt;</div><div class="line">  &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1494089740209&di=60b506b78e806e9a6471444547c037f7&imgtype=0&src=http%3A%2F%2Fimgtu.5011.net%2Fuploads%2Fcontent%2F20170410%2F1094241491816418.jpg"
               alt="Shadow" />
          <p class="site-author-name" itemprop="name">Shadow</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Shadow</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
